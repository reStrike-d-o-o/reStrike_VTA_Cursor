import React, { createContext, useContext, useEffect, useMemo, useState } from 'react';

type Catalog = Record<string, string>;
interface Catalogs { [locale: string]: Catalog }

interface I18nContextValue {
  locale: string;
  setLocale: (locale: string) => void;
  t: (id: string, fallback?: string, values?: Record<string, string | number>) => string;
}

const I18N_STORAGE_KEY = 'app.locale';
const I18nContext = createContext<I18nContextValue | undefined>(undefined);

const catalogs: Catalogs = {
  en: {
    'drawer.pss': 'PSS',
    'drawer.obs': 'OBS',
    'drawer.ovr': 'OVR',
    'drawer.ivr': 'IVR',
    'drawer.ai': 'AI',
    'drawer.settings': 'Settings',
    'app.title': 'reStrike VTA - Windows Desktop',
    'env.windows_native': 'Windows Native',
    'env.web_mode': 'Web Mode',
    'status.ready': 'Status: Ready',
    'action.generic': 'Action',
    'common.retry': 'Retry',
    'common.unknown_error': 'Unknown error',
    // Tabs
    'settings.tabs.diagnostics': 'Diagnostics & Logs Manager',
    'settings.tabs.database': 'Database',
    'settings.tabs.backup': 'Backup & Restore',
    'settings.tabs.app': 'App Settings',
    'ivr.tabs.history': 'Match History',
    'ivr.tabs.settings': 'IVR Video Settings',
    'ovr.tabs.integration': 'Integration',
    'ovr.tabs.tournament': 'Tournament Management',
    'obs.tabs.websocket': 'WebSocket',
    'obs.tabs.control_room': 'Control Room',
    'obs.tabs.integration': 'Integration',
    'pss.tabs.udp': 'UDP Server & Protocol',
    'pss.tabs.flags': 'Flag Management',
    'pss.tabs.scoreboard': 'Scoreboard',
    'pss.tabs.simulation': 'Simulation',
    'pss.tabs.triggers': 'Triggers',
    // Settings content
    'settings.language': 'Language',
    'settings.select_language': 'Select language',
    'settings.window.title': 'Window Settings',
    'settings.window.help': 'Configure the window dimensions for compact and fullscreen modes.',
    'settings.window.compact': 'Compact Mode (Default)',
    'settings.window.full': 'Fullscreen Mode (Advanced)',
    'settings.window.width': 'Width (px)',
    'settings.window.height': 'Height (px)',
    'settings.quick.title': 'Quick Presets',
    'settings.appearance.title': 'Appearance',
    'settings.appearance.theme': 'Theme',
    'settings.appearance.corners': 'Corners',
    'settings.appearance.dark': 'Dark',
    'settings.appearance.light': 'Light',
    'settings.appearance.square': 'Square',
    'settings.appearance.rounded': 'Rounded',
    'settings.log.title': 'Log verbosity',
    'settings.log.note': 'Lower levels reduce console noise in production.',
    'settings.actions.apply': 'Apply Settings',
    'settings.actions.reset': 'Reset',
    'settings.note.title': 'Note:',
    'settings.note.text': 'Compact mode is used when the app starts and when Advanced mode is disabled. Fullscreen mode is used when Advanced mode is enabled.',
    // Logs
    'logs.title': 'Download Logs',
    'logs.type': 'Type:',
    'logs.select_type': 'Select log type',
    'logs.types.pss': 'PSS',
    'logs.types.obs': 'OBS',
    'logs.types.udp': 'UDP',
    'logs.types.websocket': 'WebSocket',
    'logs.types.db': 'Database',
    'logs.types.app': 'Application',
    'logs.types.arc': 'Archive',
    'logs.table.file': 'File Name',
    'logs.table.size': 'Size',
    'logs.table.modified': 'Modified',
    'logs.loading': 'Loading logs...',
    'logs.downloading': 'Downloading...',
    'logs.archive': 'Archive',
    'logs.double_click': 'Double-click to download',
    'logs.none': 'No logs found',
    'logs.none_error': 'No logs found due to error',
    'logs.error.fetch_archives': 'Failed to fetch archive files',
    'logs.error.fetch_logs': 'Failed to fetch log files',
    'logs.error.timeout': 'Command timed out. The backend may be busy or unresponsive. Please try again.',
    'logs.error.tauri_missing': 'Tauri not available. Please ensure the app is running in desktop mode.',
    'logs.error.generic_fetch': 'Error fetching {what}: {msg}',
    'logs.error.download_timeout': 'Download timed out for {name}. Please try again.',
    'logs.error.download_failed': 'Failed to download {name}: {msg}',
    'logs.error.tauri_no_download': 'Tauri not available. Cannot download {name} in web mode.',
    'logs.error.download_error': 'Error downloading {name}: {msg}',
    // Archive manager & backup
    'logs.archive_mgr.title': 'Log Archive Manager',
    'logs.archive_mgr.load_failed': 'Failed to load configuration',
    'logs.archive_mgr.load_failed_with': 'Failed to load configuration: {err}',
    'logs.archive_mgr.save_ok': 'Configuration saved successfully',
    'logs.archive_mgr.save_failed': 'Failed to save configuration',
    'logs.archive_mgr.save_failed_with': 'Failed to save configuration: {err}',
    'logs.archive_mgr.create_ok': 'Archive created successfully: {name}',
    'logs.archive_mgr.create_failed': 'Failed to create archive',
    'logs.archive_mgr.create_failed_with': 'Failed to create archive: {err}',
    'logs.archive_mgr.upload_ok': 'Archive uploaded successfully',
    'logs.archive_mgr.upload_failed': 'Failed to upload archive',
    'logs.archive_mgr.upload_failed_with': 'Failed to upload archive: {err}',
    'logs.archive_mgr.upload_cleanup_ok': 'Archive uploaded and cleaned up successfully',
    'logs.archive_mgr.upload_cleanup_failed': 'Failed to upload and cleanup archive',
    'logs.archive_mgr.upload_cleanup_failed_with': 'Failed to upload and cleanup archive: {err}',
    'logs.archive_mgr.auto_ok': 'Auto-archive completed successfully',
    'logs.archive_mgr.auto_failed': 'Auto-archive failed',
    'logs.archive_mgr.auto_failed_with': 'Auto-archive failed: {err}',
    'logs.archive_mgr.create_title': 'Create local archive',
    'logs.archive_mgr.create_upload_title': 'Create and upload to Drive',
    'logs.archive_mgr.upload_delete_title': 'Upload and delete local copy',
    'logs.archive_mgr.auto_label': 'Auto-Archive',
    'logs.archive_mgr.schedule': 'Schedule',
    'logs.archive_mgr.weekly': 'Weekly',
    'logs.archive_mgr.monthly': 'Monthly',
    'logs.archive_mgr.quarterly': 'Every 3 months',
    'logs.archive_mgr.biannual': 'Every 6 months',
    'logs.archive_mgr.annual': 'Annually',
    'logs.archive_mgr.upload': 'Upload',
    'logs.archive_mgr.delete': 'Delete',
    'logs.archive_mgr.run_now': 'Run Now',
    'logs.archive_mgr.status': 'Status',
    'logs.archive_mgr.enabled': 'Enabled',
    'logs.archive_mgr.disabled': 'Disabled',
    'logs.archive_mgr.next': 'Next',
    'logs.archive_mgr.due': 'Archive is due',
    'common.creating': 'Creatingâ€¦',
    'common.create': 'Create',
    'common.uploading': 'Uploadingâ€¦',
    'common.processing': 'Processingâ€¦',
    'common.running': 'Runningâ€¦',
    'common.error': 'Error',
    'common.success': 'Success',
    'backup.title': 'Backup & Restore',
    'backup.subtitle': 'Manage local backups and Google Drive integration',
    'backup.tabs.local': 'Local Backup',
    'backup.tabs.drive': 'Google Drive',
    'backup.local.title': 'Local Backup',
    'backup.local.create': 'Create Backup',
    'backup.table.file': 'File Name',
    'backup.table.size': 'Size',
    'backup.table.modified': 'Modified',
    'backup.table.action': 'Action',
    'backup.none': 'No backup files found',
    'backup.none_hint': 'Create a backup to see files here',
    'backup.restoring': 'Restoring...',
    'backup.restore': 'Restore',
    'backup.create_ok': 'Backup created successfully',
    'backup.create_failed': 'Failed to create backup',
    'backup.confirm_restore': 'Are you sure you want to restore from this backup? This will overwrite current settings.',
    'backup.restore_ok': 'Backup restored successfully',
    'backup.restore_failed': 'Failed to restore backup',
    'backup.drive.title': 'Google Drive Integration',
    'backup.drive.subtitle': 'Backup and restore using Google Drive',
    // Analytics
    'analytics.title': 'ğŸ“Š Analytics Dashboard',
    'analytics.realtime': 'Real-time',
    'analytics.tabs.tournament': 'Tournament',
    'analytics.tabs.athlete': 'Athlete',
    'analytics.tabs.match': 'Match',
    'analytics.tabs.day': 'Day',
    'analytics.select.tournament': 'Select Tournament',
    'analytics.select.athlete': 'Select Athlete',
    'analytics.select.match': 'Select Match',
    'analytics.select.date': 'Select Date',
    'analytics.placeholder.tournament': 'Choose a tournament',
    'analytics.placeholder.athlete': 'Choose an athlete',
    'analytics.placeholder.match': 'Choose a match',
    'analytics.placeholder.date': 'Choose a date',
    'analytics.all_tournaments': 'All Tournaments',
    'analytics.item.tournament': 'Tournament {id}',
    'analytics.item.match': 'Match {id}',
    'analytics.athlete.title': 'Athlete Analytics',
    'analytics.athlete.help': 'Select an athlete from the dropdown above to view their detailed analytics and performance metrics.',
    'analytics.match.title': 'Match Analytics',
    'analytics.match.help': 'Select a match from the dropdown above to view detailed match analytics and performance metrics.',
    'analytics.overview.title': 'ğŸ“ˆ Analytics Overview',
    'analytics.metrics.total_events': 'Total Events',
    'analytics.metrics.unique_matches': 'Unique Matches',
    'analytics.metrics.unique_athletes': 'Unique Athletes',
    'analytics.metrics.tournaments': 'Tournaments',
    'analytics.badge': 'Analytics',
    'analytics.sections.overview': 'Overview',
    'analytics.sections.performance': 'Performance',
    'analytics.sections.matches': 'Matches',
    'analytics.sections.trends': 'Statistics',
    'analytics.athlete.total_matches': 'Total Matches',
    'analytics.athlete.win_rate': 'Win Rate',
    'analytics.athlete.total_points': 'Total Points',
    'analytics.athlete.avg_points': 'Avg Points/Match',
    'analytics.athlete.wins': 'Wins',
    'analytics.athlete.losses': 'Losses',
    'analytics.athlete.warnings': 'Warnings',
    'analytics.athlete.best_performance': 'Best Performance',
    'analytics.athlete.match_points': 'Match Points:',
    'analytics.athlete.match_id': 'Match ID:',
    'analytics.athlete.date': 'Date:',
    'analytics.athlete.no_performance': 'No performance data available',
    'analytics.athlete.total_points_scored': 'Total Points Scored',
    'analytics.athlete.total_warnings': 'Total Warnings',
    'analytics.athlete.recent_history': 'Recent Match History',
    'analytics.athlete.recent_summary': '{wins} wins, {losses} losses in {total} total matches',
    'analytics.athlete.no_history': 'No match history available',
    'analytics.athlete.performance_trends': 'Performance Trends',
    'analytics.athlete.win_rate_trend': 'Win Rate Trend:',
    'analytics.athlete.improving': 'â†—ï¸ Improving',
    'analytics.athlete.declining': 'â†˜ï¸ Declining',
    'analytics.athlete.points_per_match': 'Points Per Match:',
    'analytics.athlete.discipline': 'Discipline:',
    'analytics.athlete.good': 'Good',
    'analytics.athlete.needs_improvement': 'Needs Improvement',
    // Match analytics
    'analytics.match.header': 'Match Analytics',
    'analytics.match.completed': 'Completed',
    'analytics.match.in_progress': 'In Progress',
    'analytics.match.winner': 'Winner: {name}',
    'analytics.match.tabs.athletes': 'Athletes',
    'analytics.match.tabs.events': 'Events',
    'analytics.match.duration': 'Duration',
    'analytics.match.intensity': 'Match Intensity',
    'analytics.match.events_per_min': 'events/min',
    'analytics.match.points_scored': 'Points Scored',
    'analytics.match.points': 'Points',
    'analytics.match.warnings': 'Warnings',
    'analytics.match.injuries': 'Injuries',
    'analytics.match.total_events': 'Total Events',
    'analytics.match.points_events': 'Points Events',
    'analytics.match.warning_events': 'Warning Events',
    'analytics.match.injury_events': 'Injury Events',
    'analytics.match.other_events': 'Other Events',
    'analytics.match.event_distribution': 'Event Distribution',
    'analytics.match.other': 'Other',
    'analytics.match.timeline': 'Match Timeline',
    'analytics.match.start_time': 'Start Time:',
    'analytics.match.end_time': 'End Time:',
    'analytics.match.events_per_minute': 'Events per Minute:',
    'analytics.match.status': 'Match Status',
    'analytics.match.status_label': 'Status:',
    'analytics.match.winner_label': 'Winner:',
    'analytics.match.id': 'Match ID:',
  },
  hr: {
    'drawer.pss': 'PSS',
    'drawer.obs': 'OBS',
    'drawer.ovr': 'OVR',
    'drawer.ivr': 'IVR',
    'drawer.ai': 'AI',
    'drawer.settings': 'Postavke',
    'app.title': 'reStrike VTA - Windows Desktop',
    'env.windows_native': 'Windows aplikacija',
    'env.web_mode': 'Web naÄin',
    'status.ready': 'Status: Spremno',
    // 'settings.language' and 'settings.select_language' already defined above in this catalog
    // Drawer tabs
    'settings.tabs.diagnostics': 'Dijagnostika i upravljanje zapisima',
    'settings.tabs.database': 'Baza podataka',
    'settings.tabs.backup': 'Sigurnosna kopija i vraÄ‡anje',
    'settings.tabs.app': 'Postavke aplikacije',
    'ivr.tabs.history': 'Povijest meÄeva',
    'ivr.tabs.settings': 'IVR video postavke',
    'ovr.tabs.integration': 'Integracija',
    'ovr.tabs.tournament': 'Upravljanje turnirom',
    'obs.tabs.websocket': 'WebSocket',
    'obs.tabs.control_room': 'Kontrolna soba',
    'obs.tabs.integration': 'Integracija',
    'pss.tabs.udp': 'UDP posluÅ¾itelj i protokol',
    'pss.tabs.flags': 'Upravljanje zastavama',
    'pss.tabs.scoreboard': 'Semafor',
    'pss.tabs.simulation': 'Simulacija',
    'pss.tabs.triggers': 'OkidaÄi',

    'analytics.title': 'ğŸ“Š AnalitiÄka nadzorna ploÄa',
    'analytics.realtime': 'U stvarnom vremenu',
    'analytics.tabs.tournament': 'Turnir',
    'analytics.tabs.athlete': 'Natjecatelj',
    'analytics.tabs.match': 'MeÄ',
    'analytics.tabs.day': 'Dan',
    'analytics.select.tournament': 'Odaberite turnir',
    'analytics.select.athlete': 'Odaberite natjecatelja',
    'analytics.select.match': 'Odaberite meÄ',
    'analytics.select.date': 'Odaberite datum',
    'analytics.placeholder.tournament': 'Odaberite turnir',
    'analytics.placeholder.athlete': 'Odaberite natjecatelja',
    'analytics.placeholder.match': 'Odaberite meÄ',
    'analytics.placeholder.date': 'Odaberite datum',
    'analytics.all_tournaments': 'Svi turniri',
    'analytics.item.tournament': 'Turnir {id}',
    'analytics.item.match': 'MeÄ {id}',
    'analytics.athlete.title': 'Analitika natjecatelja',
    'analytics.athlete.help': 'Odaberite natjecatelja iz gornjeg izbornika za detaljne analitike i metrike.',
    'analytics.match.title': 'Analitika meÄa',
    'analytics.match.help': 'Odaberite meÄ iz gornjeg izbornika za detaljne analitike meÄa i metrike.',
    'analytics.overview.title': 'ğŸ“ˆ SaÅ¾etak analitike',
    'analytics.metrics.total_events': 'Ukupno dogaÄ‘aja',
    'analytics.metrics.unique_matches': 'Jedinstveni meÄevi',
    'analytics.metrics.unique_athletes': 'Jedinstveni natjecatelji',
    'analytics.metrics.tournaments': 'Turniri',
    //Analyticsc Croatian    
    'analytics.badge': 'Analitika',
    'analytics.sections.overview': 'Pregled',
    'analytics.sections.performance': 'UÄinak',
    'analytics.sections.matches': 'MeÄevi',
    'analytics.sections.trends': 'Statistika',
    'analytics.athlete.total_matches': 'Ukupno meÄeva',
    'analytics.athlete.win_rate': 'Postotak pobjeda',
    'analytics.athlete.total_points': 'Ukupno bodova',
    'analytics.athlete.avg_points': 'ProsjeÄno bodova/meÄ',
    'analytics.athlete.wins': 'Pobjede',
    'analytics.athlete.losses': 'Porazi',
    'analytics.athlete.warnings': 'Opomene',
    'analytics.athlete.best_performance': 'Najbolji uÄinak',
    'analytics.athlete.match_points': 'Bodovi u meÄu:',
    'analytics.athlete.match_id': 'ID meÄa:',
    'analytics.athlete.date': 'Datum:',
    'analytics.athlete.no_performance': 'Nema dostupnih podataka o uÄinku',
    'analytics.athlete.total_points_scored': 'Ukupno osvojenih bodova',
    'analytics.athlete.total_warnings': 'Ukupno opomena',
    'analytics.athlete.recent_history': 'Nedavna povijest meÄeva',
    'analytics.athlete.recent_summary': '{wins} pobjeda, {losses} poraza u {total} meÄeva',
    'analytics.athlete.no_history': 'Nema povijesti meÄeva',
    'analytics.athlete.performance_trends': 'Trendovi uÄinka',
    'analytics.athlete.win_rate_trend': 'Trend pobjeda:',
    'analytics.athlete.improving': 'â†—ï¸ Napredak',
    'analytics.athlete.declining': 'â†˜ï¸ Pad',
    'analytics.athlete.points_per_match': 'Bodova po meÄu:',
    'analytics.athlete.discipline': 'Disciplina:',
    'analytics.athlete.good': 'Dobro',
    'analytics.athlete.needs_improvement': 'Potrebno poboljÅ¡anje',
    // Match analytics (Croatian)
    'analytics.match.header': 'Analitika meÄa',
    'analytics.match.completed': 'ZavrÅ¡en',
    'analytics.match.in_progress': 'U tijeku',
    'analytics.match.winner': 'Pobjednik: {name}',
    'analytics.match.tabs.athletes': 'Natjecatelji',
    'analytics.match.tabs.events': 'DogaÄ‘aji',
    'analytics.match.duration': 'Trajanje',
    'analytics.match.intensity': 'Intenzitet meÄa',
    'analytics.match.events_per_min': 'dogaÄ‘aja/min',
    'analytics.match.points_scored': 'Osvojeni bodovi',
    'analytics.match.points': 'Bodovi',
    'analytics.match.warnings': 'Opomene',
    'analytics.match.injuries': 'Ozljede',
    'analytics.match.total_events': 'Ukupno dogaÄ‘aja',
    'analytics.match.points_events': 'Bodovni dogaÄ‘aji',
    'analytics.match.warning_events': 'Upozorenja',
    'analytics.match.injury_events': 'DogaÄ‘aji ozljeda',
    'analytics.match.other_events': 'Ostali dogaÄ‘aji',
    'analytics.match.event_distribution': 'Distribucija dogaÄ‘aja',
    'analytics.match.other': 'Ostalo',
    'analytics.match.timeline': 'Vremenska crta meÄa',
    'analytics.match.start_time': 'Vrijeme poÄetka:',
    'analytics.match.end_time': 'Vrijeme zavrÅ¡etka:',
    'analytics.match.events_per_minute': 'DogaÄ‘aja u minuti:',
    'analytics.match.status': 'Status meÄa',
    'analytics.match.status_label': 'Status:',
    'analytics.match.winner_label': 'Pobjednik:',
    'analytics.match.id': 'ID meÄa:',
    // IVR History Panel
    'ivr.history.title': 'Povijest meÄeva',
    'ivr.history.subtitle': 'Pregledajte snimljene sesije po danu, meÄu i dogaÄ‘aju',
    'ivr.history.err_load_days': 'Neuspjelo uÄitavanje dana',
    'ivr.history.err_load_matches': 'Neuspjelo uÄitavanje meÄeva/videozapisa',
    'ivr.history.zip': 'Pakiranje {done}/{total}: {file}',
    'ivr.history.upload_starting': 'Pokretanje otpremanjaâ€¦',
    'ivr.history.upload_complete': 'Otpremanje zavrÅ¡eno',
    'ivr.history.downloading': 'Preuzimanjeâ€¦',
    'ivr.history.extract': 'Raspakiravanje {done}/{total}: {file}',
    'ivr.history.index_complete': 'Indeksiranje zavrÅ¡eno',
    'ivr.history.cancelled': 'Otkazano',
    'ivr.history.confirm_delete': 'Obrisati odabrane videozapise i njihove zapise? Ovo je nepovratno.',
    'ivr.history.err_delete': 'Brisanje nije uspjelo',
    'ivr.history.days.title': 'Turnir / Dan',
    'ivr.history.days.col.tournament': 'Turnir',
    'ivr.history.days.col.day': 'Dan',
    'ivr.history.days.col.date': 'Datum',
    'ivr.history.days.empty': 'Nema dana',
    'ivr.history.day_n': 'Dan {n}',
    'ivr.history.matches.title': 'MeÄevi',
    'ivr.history.matches.col.category': 'Kategorija',
    'ivr.history.matches.empty': 'Nema meÄeva',
    'ivr.history.events.title': 'DogaÄ‘aji',
    'ivr.history.events.col.rnd': 'RND',
    'ivr.history.events.col.time': 'Vrijeme',
    'ivr.history.events.col.code': 'Kod',
    'ivr.history.events.empty': 'Nema dogaÄ‘aja',
    'ivr.history.events.round_prefix': 'R',
    'ivr.history.videos.title': 'Snimljeni videozapisi',
    'ivr.history.videos.upload_drive': 'Otpremi na Drive',
    'ivr.history.videos.col.path': 'Put',
    'ivr.history.videos.col.start': 'PoÄetak',
    'ivr.history.videos.empty': 'Nema videozapisa',
    'ivr.history.pick_event': 'Odaberi dogaÄ‘aj',
    'ivr.history.import_starting': 'Pokretanje uvozaâ€¦',
    'ivr.history.err_import': 'Uvoz nije uspio',
    'ivr.history.err_upload': 'Otpremanje nije uspjelo',
    // Settings
    'settings.window.title': 'Postavke prozora',
    'settings.window.help': 'Konfigurirajte dimenzije prozora za kompaktni i cijeli zaslon.',
    'settings.window.compact': 'Kompaktni naÄin (zadano)',
    'settings.window.full': 'NaÄin preko cijelog zaslona (napredno)',
    'settings.window.width': 'Å irina (px)',
    'settings.window.height': 'Visina (px)',
    'settings.quick.title': 'Brze postavke',
    'settings.appearance.title': 'Izgled',
    'settings.appearance.theme': 'Tema',
    'settings.appearance.corners': 'Rubovi',
    'settings.appearance.dark': 'Tamna',
    'settings.appearance.light': 'Svijetla',
    'settings.appearance.square': 'Kvadratni',
    'settings.appearance.rounded': 'Zaobljeni',
    'settings.log.title': 'Razina zapisivanja',
    'settings.log.note': 'NiÅ¾e razine smanjuju Å¡um u konzoli u produkciji.',
    'settings.actions.apply': 'Primijeni postavke',
    'settings.actions.reset': 'Resetiraj',
    'settings.note.title': 'Napomena:',
    'settings.note.text': 'Kompaktni naÄin se koristi pri pokretanju aplikacije i kada je Napredni naÄin iskljuÄen. NaÄin preko cijelog zaslona se koristi kada je Napredni naÄin ukljuÄen.',
    // Common
    'common.pending': 'Na Äekanju',
    'common.active': 'Aktivan',
    'common.ended': 'ZavrÅ¡en',
    'common.edit': 'Uredi',
    'common.delete': 'ObriÅ¡i',
    'common.close': 'Zatvori',
    'common.cancel': 'OtkaÅ¾i',
    'common.loading': 'UÄitavanje...',
    'common.updating': 'AÅ¾uriranje...',
    'common.open': 'Otvori',
    'common.open_browser': 'Otvori u pregledniku',
    'common.copy': 'Kopiraj',
    'common.refresh': 'OsvjeÅ¾i',
    'common.connected': 'Povezano',
    'common.disconnected': 'Nepovezano',
    'action.generic': 'Akcija',
    'common.retry': 'PokuÅ¡aj ponovno',
    'common.unknown_error': 'Nepoznata pogreÅ¡ka',
    'common.creating': 'Stvaranjeâ€¦',
    'common.create': 'Stvori',
    'common.uploading': 'UÄitavanjeâ€¦',
    'common.processing': 'Obradaâ€¦',
    'common.running': 'Pokretanjeâ€¦',
    'common.browse': 'Pregledaj',
    'common.load': 'UÄitaj',
    'common.save': 'Spremi',
    'common.import': 'Uvoz',
    'common.actions': 'Radnje',
    'common.stop': 'Zaustavi',
    'common.pause': 'Pauza',
    'common.resume': 'Nastavi',
    'common.min': 'min',
    'common.starting': 'Pokretanje...',
    'common.installing': 'Instalacija...',
    'common.yes': 'Da',
    'common.no': 'Ne',
    'common.error': 'PogreÅ¡ka',
    'common.success': 'Uspjeh',
    'common.add': 'Dodaj',
    'common.na': 'N/A',
    'common.seconds': 'sekundi',
    'common.saving': 'Spremanje...',
    'common.save_settings': 'Spremi postavke',
    'common.hide_settings': 'Sakrij postavke',
    'common.show_settings': 'PrikaÅ¾i postavke',
    'common.refreshing': 'OsvjeÅ¾avanje...',
    'common.syncing': 'Sinkronizacija...',
    'common.add_connection': 'Dodaj vezu',
    'common.connect': 'PoveÅ¾i',
    'common.disconnect': 'Prekini vezu',
    'common.connecting': 'Povezivanje...',
    'common.enabled': 'OmoguÄ‡eno',
    'common.disabled': 'OnemoguÄ‡eno',
    'common.test_passed': 'Test uspjeÅ¡an!',
    'common.test_failed': 'Test nije uspio: {err}',
    'common.remove': 'Ukloni',
    'common.reload_settings': 'Ponovno uÄitaj postavke',
    'common.play': 'Reproduciraj',
    'common.time': 'Vrijeme',
    'common.type': 'Tip',
    'common.player': 'IgraÄ',
    'common.description': 'Opis',
    'common.value': 'Vrijednost',
    'common.event': 'DogaÄ‘aj',
    'common.resetting': 'VraÄ‡anje...',
    'common.select': 'Odaberi',
    // Logs
    'logs.title': 'Preuzimanje logova',
    'logs.type': 'Vrsta:',
    'logs.select_type': 'Odaberite vrstu loga',
    'logs.types.pss': 'PSS',
    'logs.types.obs': 'OBS',
    'logs.types.udp': 'UDP',
    'logs.types.websocket': 'WebSocket',
    'logs.types.db': 'Baza podataka',
    'logs.types.app': 'Aplikacija',
    'logs.types.arc': 'Arhiva',
    'logs.table.file': 'Naziv datoteke',
    'logs.table.size': 'VeliÄina',
    'logs.table.modified': 'Izmijenjeno',
    'logs.loading': 'UÄitavanje logova...',
    'logs.downloading': 'Preuzimanje...',
    'logs.archive': 'Arhiva',
    'logs.double_click': 'Dvostruki klik za preuzimanje',
    'logs.none': 'Nema pronaÄ‘enih logova',
    'logs.none_error': 'Nema logova zbog pogreÅ¡ke',
    'logs.error.fetch_archives': 'NeuspjeÅ¡no dohvaÄ‡anje arhiva',
    'logs.error.fetch_logs': 'NeuspjeÅ¡no dohvaÄ‡anje logova',
    'logs.error.timeout': 'Naredba je istekla. PosluÅ¾itelj je zauzet ili ne odgovara. PokuÅ¡ajte ponovno.',
    'logs.error.tauri_missing': 'Tauri nije dostupan. Pokrenite aplikaciju u desktop naÄinu.',
    'logs.error.generic_fetch': 'GreÅ¡ka pri dohvaÄ‡anju {what}: {msg}',
    'logs.error.download_timeout': 'Isteklo vrijeme za preuzimanje {name}. PokuÅ¡ajte ponovno.',
    'logs.error.download_failed': 'NeuspjeÅ¡no preuzimanje {name}: {msg}',
    'logs.error.tauri_no_download': 'Tauri nije dostupan. Nije moguÄ‡e preuzeti {name} u web naÄinu.',
    'logs.error.download_error': 'GreÅ¡ka pri preuzimanju {name}: {msg}',
    // Archive manager
    'logs.archive_mgr.title': 'Upravitelj arhiva logova',
    'logs.archive_mgr.load_failed': 'UÄitavanje konfiguracije nije uspjelo',
    'logs.archive_mgr.load_failed_with': 'UÄitavanje konfiguracije nije uspjelo: {err}',
    'logs.archive_mgr.save_ok': 'Konfiguracija je uspjeÅ¡no spremljena',
    'logs.archive_mgr.save_failed': 'Spremanje konfiguracije nije uspjelo',
    'logs.archive_mgr.save_failed_with': 'Spremanje konfiguracije nije uspjelo: {err}',
    'logs.archive_mgr.create_ok': 'Arhiva je uspjeÅ¡no kreirana: {name}',
    'logs.archive_mgr.create_failed': 'Kreiranje arhive nije uspjelo',
    'logs.archive_mgr.create_failed_with': 'Kreiranje arhive nije uspjelo: {err}',
    'logs.archive_mgr.upload_ok': 'Arhiva je uspjeÅ¡no otpremljena',
    'logs.archive_mgr.upload_failed': 'Otpremanje arhive nije uspjelo',
    'logs.archive_mgr.upload_failed_with': 'Otpremanje arhive nije uspjelo: {err}',
    'logs.archive_mgr.upload_cleanup_ok': 'Arhiva je otpremljena i obrisana',
    'logs.archive_mgr.upload_cleanup_failed': 'Otpremanje i ÄiÅ¡Ä‡enje arhive nije uspjelo',
    'logs.archive_mgr.upload_cleanup_failed_with': 'Otpremanje i ÄiÅ¡Ä‡enje arhive nije uspjelo: {err}',
    'logs.archive_mgr.auto_ok': 'Automatsko arhiviranje je zavrÅ¡eno',
    'logs.archive_mgr.auto_failed': 'Automatsko arhiviranje nije uspjelo',
    'logs.archive_mgr.auto_failed_with': 'Automatsko arhiviranje nije uspjelo: {err}',
    'logs.archive_mgr.create_title': 'Kreiraj lokalnu arhivu',
    'logs.archive_mgr.create_upload_title': 'Kreiraj i otpremi na Drive',
    'logs.archive_mgr.upload_delete_title': 'Otpremi i obriÅ¡i lokalnu kopiju',
    'logs.archive_mgr.auto_label': 'Automatsko arhiviranje',
    'logs.archive_mgr.schedule': 'Raspored',
    'logs.archive_mgr.weekly': 'Tjedno',
    'logs.archive_mgr.monthly': 'MjeseÄno',
    'logs.archive_mgr.quarterly': 'Svakih 3 mjeseca',
    'logs.archive_mgr.biannual': 'Svakih 6 mjeseci',
    'logs.archive_mgr.annual': 'GodiÅ¡nje',
    'logs.archive_mgr.upload': 'Otpremi',
    'logs.archive_mgr.delete': 'ObriÅ¡i',
    'logs.archive_mgr.run_now': 'Pokreni sada',
    'logs.archive_mgr.status': 'Status',
    'logs.archive_mgr.enabled': 'UkljuÄeno',
    'logs.archive_mgr.disabled': 'IskljuÄeno',
    'logs.archive_mgr.next': 'SljedeÄ‡e',
    'logs.archive_mgr.due': 'Arhiviranje dospijeva',
    // Backup & Restore
    'backup.title': 'Sigurnosna kopija i vraÄ‡anje',
    'backup.subtitle': 'Upravljajte lokalnim kopijama i Google Drive integracijom',
    'backup.tabs.local': 'Lokalna kopija',
    'backup.tabs.drive': 'Google Drive',
    'backup.local.title': 'Lokalna kopija',
    'backup.local.create': 'Kreiraj kopiju',
    'backup.table.file': 'Naziv datoteke',
    'backup.table.size': 'VeliÄina',
    'backup.table.modified': 'Izmijenjeno',
    'backup.table.action': 'Akcija',
    'backup.none': 'Nema pronaÄ‘enih kopija',
    'backup.none_hint': 'Kreirajte kopiju kako bi se pojavila ovdje',
    'backup.restoring': 'VraÄ‡anje...',
    'backup.restore': 'Vrati',
    'backup.create_ok': 'Kopija je uspjeÅ¡no kreirana',
    'backup.create_failed': 'Kreiranje kopije nije uspjelo',
    'backup.confirm_restore': 'Jeste li sigurni da Å¾elite vratiti ovu kopiju? Trenutne postavke Ä‡e biti prepisane.',
    'backup.restore_ok': 'Kopija je uspjeÅ¡no vraÄ‡ena',
    'backup.restore_failed': 'VraÄ‡anje kopije nije uspjelo',
    'backup.drive.title': 'Google Drive integracija',
    'backup.drive.subtitle': 'Sigurnosna kopija i vraÄ‡anje putem Google Drive-a',
    // IVR Replay Settings
    'ivr.settings.title': 'Postavke IVR ponovnog pregleda',
    'ivr.settings.mpv_path': 'Put do mpv.exe',
    'ivr.settings.invalid_mpv': 'Neispravan put do mpv.',
    'ivr.settings.err_dialog': 'Neuspjelo otvaranje dijaloga datoteke',
    'ivr.settings.seconds_from_end': 'Sekundi od kraja (0â€“20)',
    'ivr.settings.max_wait': 'Maks. Äekanje (ms, 50â€“500)',
    'ivr.settings.auto_on_challenge': 'Automatski na PSS izazov',
    'ivr.settings.saved': 'Postavke spremljene.',
    'ivr.settings.save_failed': 'Spremanje nije uspjelo: {err}',
    // OBS Integration prompts
    'obs.integration.no_connection': 'Nije odabrana veza',
    'obs.integration.save_ok': 'Konfiguracija je uspjeÅ¡no spremljena!',
    'obs.integration.save_failed_with': 'Spremanje konfiguracije nije uspjelo: {err}',
    'obs.integration.select_first': 'Najprije odaberite vezu',
    'obs.integration.start_sent': 'Naredba za pokretanje snimanja je poslana.',
    'obs.integration.start_failed_with': 'Nije uspjelo pokretanje snimanja: {err}',
    'obs.integration.stop_sent': 'Naredba za zaustavljanje snimanja je poslana.',
    'obs.integration.stop_failed_with': 'Nije uspjelo zaustavljanje snimanja: {err}',
    'obs.integration.create_dirs_ok': 'âœ… Mape su uspjeÅ¡no kreirane!\n\nğŸ“ Direktorij: {dir}\nğŸ“„ Naziv datoteke: {file}\nğŸ“ Puna putanja: {full}',
    'obs.integration.create_dirs_failed': 'âŒ Kreiranje mapa nije uspjelo: {err}',
    'obs.integration.sent_ok': 'âœ… Konfiguracija je poslana u OBS!\n\nğŸ“ Put snimanja: {path}\nğŸ“„ PredloÅ¾ak naziva: {fmt}',
    'obs.integration.sent_failed': 'âŒ Slanje konfiguracije u OBS nije uspjelo: {err}',
    'obs.integration.db_path_ok': 'Put je generiran iz baze podataka',
    'obs.integration.db_path_failed': 'Generiranje puta iz baze nije uspjelo: {err}',
    'obs.integration.detect_videos_ok': 'Otkrivena mapa videa: {path}',
    'obs.integration.detect_videos_failed': 'Otkrivanje mape videa nije uspjelo: {err}',
    // OBS Integration UI (screen labels/buttons)
    'obs.integration.ui.title': 'ğŸ¬ Automatizacija OBS snimanja',
    'obs.integration.ui.connection': 'OBS WebSocket veza',
    'obs.integration.ui.connection_aria': 'Odaberite OBS WebSocket vezu',
    'obs.integration.ui.select_connection': 'Odaberite vezu...',
    'obs.integration.ui.recording_path': 'Put snimanja',
    'obs.integration.ui.recording_format': 'Format snimanja',
    'obs.integration.ui.recording_format_aria': 'Odaberite format snimanja',
    'obs.integration.ui.filename_pattern': 'PredloÅ¾ak naziva datoteke',
    'obs.integration.ui.vars': 'Dostupne varijable',
    'obs.integration.ui.folder_pattern': 'PredloÅ¾ak mape',
    'obs.integration.ui.folder_note': 'Aplikacija trenutno Å¡alje Put snimanja izravno. Ovaj Ä‡e se uzorak koristiti pri generiranju putanje direktorija.',
    'obs.integration.ui.profile.title': 'OBS profil (samo za Äitanje)',
    'obs.integration.ui.profile.dir': 'Direktorij snimanja (OBS)',
    'obs.integration.ui.profile.fmt': 'Formatiranje naziva (OBS)',
    'obs.integration.ui.profile.mismatch': 'OBS formatiranje se razlikuje od predloÅ¡ka aplikacije. PoÅ¡aljite konfiguraciju u OBS za sinkronizaciju ili ruÄno prilagodite.',
    'obs.integration.ui.auto.title': 'Postavke automatskog snimanja',
    'obs.integration.ui.auto.enable': 'OmoguÄ‡i automatsko snimanje',
    'obs.integration.ui.auto.stop_on_end': 'Automatski zaustavi na kraju meÄa',
    'obs.integration.ui.auto.stop_on_winner': 'Automatski zaustavi na pobjedniku',
    'obs.integration.ui.auto.start_rec': 'Automatski pokreni snimanje na poÄetku meÄa',
    'obs.integration.ui.auto.start_replay': 'Automatski pokreni buffer ponovnog pregleda na poÄetku meÄa',
    'obs.integration.ui.auto.include_replay': 'UkljuÄi buffer ponovnog pregleda',
    'obs.integration.ui.auto.stop_delay': 'Odgoda zaustavljanja',
    'obs.integration.ui.auto.replay_duration': 'Trajanje buffer-a ponovnog pregleda',
    'obs.integration.ui.actions.save': 'Spremi konfiguraciju',
    'obs.integration.ui.actions.load': 'UÄitaj konfiguraciju',
    'obs.integration.ui.actions.start': 'Pokreni snimanje',
    'obs.integration.ui.actions.stop': 'Zaustavi snimanje',
    'obs.integration.ui.actions.send': 'PoÅ¡alji konfiguraciju u OBS',
    'obs.integration.ui.actions.sending': 'Slanje...',
    'obs.integration.ui.path_test.title': 'Test generiranja putanje',
    'obs.integration.ui.path_test.match_id': 'ID meÄa',
    'obs.integration.ui.path_test.match_number': 'Broj meÄa',
    'obs.integration.ui.path_test.tournament_name': 'Naziv turnira',
    'obs.integration.ui.path_test.tournament_name_ph': 'Test turnir',
    'obs.integration.ui.path_test.tournament_day': 'Dan turnira',
    'obs.integration.ui.path_test.tournament_day_ph': 'Dan 1',
    'obs.integration.ui.path_test.player1_name': 'Ime igraÄa 1',
    'obs.integration.ui.path_test.player1_flag': 'Zastava igraÄa 1',
    'obs.integration.ui.path_test.player2_name': 'Ime igraÄa 2',
    'obs.integration.ui.path_test.player2_flag': 'Zastava igraÄa 2',
    'obs.integration.ui.test.creating': 'Stvaranje...',
    'obs.integration.ui.test.create_folders': 'Kreiraj testne mape',
    'obs.integration.ui.test.generating': 'Generiranje...',
    'obs.integration.ui.test.generate_db': 'Generiraj iz baze podataka',
    'obs.integration.ui.test.detect_videos': 'Otkrij mapu Videi',
    'obs.integration.ui.session.title': 'ğŸ¬ Trenutna sesija snimanja',
    'obs.integration.ui.session.match_id': 'ID meÄa',
    'obs.integration.ui.session.state': 'Stanje',
    'obs.integration.ui.session.tournament': 'Turnir',
    'obs.integration.ui.session.day': 'Dan turnira',
    'obs.integration.ui.session.match_number': 'Broj meÄa',
    'obs.integration.ui.session.obs_conn': 'OBS veza',
    'obs.integration.ui.session.player1': 'IgraÄ 1',
    'obs.integration.ui.session.player2': 'IgraÄ 2',
    'obs.integration.ui.session.path': 'Put snimanja',
    'obs.integration.ui.session.filename': 'Naziv datoteke',
    'obs.integration.ui.session.none': 'Nema aktivne sesije snimanja',
    'obs.integration.ui.session.refresh': 'OsvjeÅ¾i sesiju',
    'obs.integration.ui.session.clear': 'OÄisti sesiju',
    // OVR / Scoreboard URLs & settings
    'ovr.scoreboard.title': 'Vrsta overlaya',
    'ovr.templates.populate': 'Popuni iz datoteka',
    'ovr.templates.loading': 'UÄitavanje predloÅ¾aka overlaya...',
    'ovr.templates.none': 'Nema pronaÄ‘enih predloÅ¾aka overlaya',
    'ovr.templates.theme': 'Tema',
    'ovr.templates.animation': 'Animacija',
    'ovr.templates.duration': 'Trajanje',
    'ovr.obs_integration.title': 'Integracija s OBS-om',
    'ovr.urls.title': 'HTML Overlay URL-ovi (aÅ¾uriranja u stvarnom vremenu)',
    'ovr.urls.scoreboard': 'Semafor overlay',
    'ovr.urls.player_intro': 'Overlay za predstavljanje igraÄa',
    'ovr.urls.arcade_scoreboard': 'Arkadni semafor (novo)',
    'ovr.urls.arcade_intro': 'Arkadni uvod',
    'ovr.urls.arcade_intermission': 'Arkadna pauza s statistikom',
    'ovr.urls.arcade_winner': 'Arkadni pobjednik',
    'ovr.urls.arcade_specials': 'Arkadni specijali',
    'ovr.urls.realtime_note': 'âœ¨ Ovi HTML overlayi podrÅ¾avaju PSS aÅ¾uriranja u stvarnom vremenu putem WebSocket dogaÄ‘aja',
    'ovr.obs_settings': 'OBS postavke',
    'ovr.obs_settings.refresh': 'OsvjeÅ¾i: Kada scena postane aktivna',
    'ovr.obs_settings.width': 'Å irina',
    'ovr.obs_settings.height': 'Visina',
    'ovr.network_access': 'MreÅ¾ni pristup',
    'ovr.network_access.tip': 'Koristite "npm run dev:network" za mreÅ¾ni pristup',
    'ovr.network.local': 'Lokalno',
    'ovr.network.network': 'MreÅ¾a',
    'ovr.network.websocket': 'WebSocket',
    'ai.placeholder': 'AI izrada izvjeÅ¡Ä‡a i analizator podataka bit Ä‡e implementirani ovdje',
    'settings.language_selector': 'Odabir jezika',
    'settings.available_languages': 'Dostupni jezici',
    // PSS UDP/protocol drawer
    'pss.udp.title': 'UDP posluÅ¾itelj',
    'pss.udp.status': 'Status UDP posluÅ¾itelja',
    'pss.udp.port': 'Port',
    'pss.udp.enable': 'OmoguÄ‡i UDP posluÅ¾itelj',
    'pss.udp.advanced': 'Napredne postavke',
    'pss.udp.port_cfg': 'Konfiguracija porta',
    'pss.udp.port_label': 'UDP port',
    'pss.udp.bind_address': 'Adresa povezivanja',
    'pss.udp.auto_from': 'Automatski detektirano s {name}',
    'pss.udp.copied_from_selected': 'Automatski kopirano s odabranog suÄelja',
    'pss.udp.bind_address_select': 'Odaberite adresu povezivanja',
    'pss.udp.net_if': 'MreÅ¾no suÄelje',
    'pss.udp.auto_detect': 'Automatski detektiraj mreÅ¾no suÄelje',
    'pss.udp.auto_detect_desc': 'Kada je omoguÄ‡eno, automatski odabire najbolje mreÅ¾no suÄelje i kopira njegovu IP adresu u polje adrese povezivanja.',
    'pss.udp.preferred_type': 'Preferirani tip',
    'pss.udp.preferred_type_aria': 'Preferirani tip suÄelja',
    'pss.udp.type.ethernet': 'Ethernet',
    'pss.udp.type.wifi': 'WiFi',
    'pss.udp.type.any': 'Bilo koji',
    'pss.udp.current_best': 'Trenutno najbolje suÄelje',
    'pss.udp.select_interface': 'Odaberi suÄelje',
    'pss.udp.select_interface_aria': 'Odaberi mreÅ¾no suÄelje',
    'pss.udp.select_interface_placeholder': 'Odaberite suÄelje...',
    'pss.udp.manual_desc': 'Kada je automatska detekcija iskljuÄena, ruÄno odaberite mreÅ¾no suÄelje i IP adresu u padajuÄ‡em izborniku adrese.',
    'pss.udp.fallback_localhost': 'Povrat na localhost (127.0.0.1)',
    'pss.udp.available_ifaces': 'Dostupna suÄelja',
    'pss.udp.ip_addresses': 'IP adrese:',
    'pss.udp.gateway': 'Gateway:',
    'pss.udp.dns': 'DNS:',
    'pss.udp.recommended': 'PreporuÄeno',
    // PSS protocol
    'pss.protocol.title': 'Upravljanje protokolom',
    'pss.protocol.current': 'Trenutni protokol',
    'pss.protocol.version': 'Verzija',
    'pss.protocol.description': 'Opis',
    'pss.protocol.year': 'Godina',
    'pss.protocol.available': 'Dostupne verzije',
    'pss.protocol.loading': 'UÄitavanje verzija protokola...',
    'pss.protocol.none': 'Nema dostupnih verzija protokola',
    'pss.protocol.version_n': 'Verzija {v}',
    'pss.protocol.size': 'VeliÄina',
    'pss.protocol.created': 'Kreirano',
    'pss.protocol.modified': 'Izmijenjeno',
    'pss.protocol.activate': 'Aktiviraj',
    'pss.protocol.export': 'Izvezi',
    'pss.protocol.upload': 'UÄitaj novi protokol',
    'pss.protocol.choose_file_aria': 'Odaberite datoteku protokola',
    'pss.protocol.choose_file_title': 'Odaberite datoteku protokola',
    'pss.protocol.choose': 'Odaberi datoteku protokola',
    'pss.protocol.txt_only': 'Samo TXT format',
    'pss.protocol.upload_help': 'UÄitajte novu datoteku protokola kako biste je dodali u dostupne verzije. Datoteka mora biti u TXT formatu i sadrÅ¾avati valjane definicije.',
    // Tournament management (Croatian)
    'tournament.title': 'Turniri',
    'tournament.add': 'Dodaj turnir',
    'tournament.loading': 'UÄitavanje turnira...',
    'tournament.none': 'Nema pronaÄ‘enih turnira. Kreirajte prvi turnir za poÄetak.',
    'tournament.filters.all': 'Svi',
    'tournament.filters.pending': 'Na Äekanju',
    'tournament.filters.active': 'Aktivan',
    'tournament.filters.ended': 'ZavrÅ¡en',
    'tournament.overview': 'Pregled',
    'tournament.overview.title': 'Pregled turnira',
    'tournament.upload_logo': 'UÄitaj logo',
    'tournament.logo_alt': 'Logo turnira',
    'tournament.days.title': 'Dani turnira',
    'tournament.days.none': 'Nema pronaÄ‘enih dana turnira.',
    'tournament.day_label': 'Dan',
    'started_at': 'zapoÄeto u',
    'ended_at': 'zavrÅ¡eno u',
    'tournament.status.pending': 'Na Äekanju',
    'tournament.status.active': 'Aktivan',
    'tournament.status.ended': 'ZavrÅ¡en',
    'tournament.day_status.pending': 'Na Äekanju',
    'tournament.day_status.active': 'Aktivan',
    'tournament.day_status.completed': 'ZavrÅ¡en',
    'tournament.start': 'Pokreni turnir',
    'tournament.end': 'ZavrÅ¡i turnir',
    'start_day_button': 'ZapoÄni dan',
    'end_day_button': 'ZavrÅ¡i dan',
    'cancel_button': 'Odustani',
    'tournament.start_day.title': 'Pokreni dan turnira',
    'tournament.end_day.title': 'ZavrÅ¡i dan turnira',
    'tournament.start_day.confirm': 'Jeste li sigurni da Å¾elite zapoÄeti dan {n}? Ovo Ä‡e automatski pokrenuti turnir ako je prvi dan.',
    'tournament.end_day.confirm': 'Jeste li sigurni da Å¾elite zavrÅ¡iti dan {n}? Ovo Ä‡e automatski zavrÅ¡iti turnir ako je posljednji dan.',
    'tournament.starting': 'Pokretanje...',
    'tournament.ending': 'ZavrÅ¡avanje...',
    'tournament.stats.total_matches': 'Ukupno meÄeva',
    'tournament.stats.total_events': 'Ukupno dogaÄ‘aja',
    'tournament.stats.total_scores': 'Ukupno bodova',
    'tournament.stats.total_warnings': 'Ukupno opomena',
    'tournament.days.progress': 'Napredak dana turnira',
    'tournament.days.pending': 'Dani na Äekanju',
    'tournament.days.active': 'Aktivni dan',
    'tournament.days.completed': 'ZavrÅ¡eni dani',
    'tournament.timeline': 'Vremenska crta turnira',
    'tournament.created': 'Kreirano',
    'tournament.add_new': 'Dodaj novi turnir',
    'tournament.create': 'Kreiraj turnir',
    'tournament.edit': 'Uredi turnir',
    'tournament.update': 'AÅ¾uriraj turnir',
    'tournament.form.name': 'Naziv turnira',
    'tournament.form.name_ph': 'Unesite naziv turnira',
    'tournament.form.duration': 'Trajanje (dana)',
    'tournament.form.city': 'Grad',
    'tournament.form.city_ph': 'Unesite grad',
    'tournament.form.country': 'DrÅ¾ava',
    'tournament.form.country_ph': 'Unesite drÅ¾avu',
    'tournament.form.start_date': 'Datum poÄetka (opcionalno)',
    'tournament.form.logo': 'Logo turnira (opcionalno)',
    'tournament.location.verify': 'Provjeri lokaciju',
    'tournament.location.verifying': 'Provjera...',
    'tournament.location.verified': 'Provjereno',
    'tournament.location.enter_city_country': 'Unesite i grad i drÅ¾avu',
    'tournament.location.not_found': 'Lokacija nije pronaÄ‘ena ili mreÅ¾a nije dostupna. MoÅ¾ete nastaviti ruÄni unos.',
    'tournament.location.failed': 'Provjera lokacije nije uspjela',
    'tournament.location.network_error': 'MreÅ¾na greÅ¡ka. MoÅ¾ete nastaviti ruÄni unos.',
    'tournament.confirm_delete': 'Jeste li sigurni da Å¾elite obrisati ovaj turnir? Ova radnja je nepovratna.',
    'tournament.error.load': 'Neuspjelo uÄitavanje turnira',
    'tournament.error.loading_with': 'GreÅ¡ka pri uÄitavanju turnira: {err}',
    'tournament.error.load_one': 'Neuspjelo uÄitavanje turnira',
    'tournament.error.load_days': 'Neuspjelo uÄitavanje dana turnira',
    'tournament.error.load_stats': 'Neuspjelo uÄitavanje statistike turnira',
    'tournament.error.loading_overview_with': 'GreÅ¡ka pri uÄitavanju pregleda turnira: {err}',
    'tournament.error.start_day': 'Neuspjelo pokretanje dana turnira',
    'tournament.error.start_day_with': 'GreÅ¡ka pri pokretanju dana turnira: {err}',
    'tournament.error.end_day': 'Neuspjelo zavrÅ¡avanje dana turnira',
    'tournament.error.end_day_with': 'GreÅ¡ka pri zavrÅ¡avanju dana turnira: {err}',
    // Generic day(s) for list subtitles
    'day': 'dan',
    'days': 'dana',
    // OBS WebSocket manager keys
    'obs.header.local': 'Lokalni OBS WebSocket upravitelj',
    'obs.header.remote': 'Udaljena OBS kontrolna soba',
    'obs.header.local_sub': 'Upravljajte lokalnim OBS Studio vezama (OBS_REC, OBS_STR) koristeÄ‡i obws implementaciju',
    'obs.header.remote_sub': 'Kontrolirajte udaljene OBS instance na mreÅ¾i koristeÄ‡i obws implementaciju',
    'obs.obws_impl': 'obws implementacija',
    'obs.mode.local': 'Lokalni naÄin',
    'obs.mode.remote': 'Udaljeni naÄin',
    'obs.conn.sync_from_config': 'Sinkroniziraj iz konfiguracije',
    'obs.conn.local': 'Lokalne OBS veze',
    'obs.conn.remote': 'Udaljene OBS veze',
    'obs.conn.name_required': 'Naziv veze je obavezan',
    'obs.conn.host_required': 'Host je obavezan',
    'obs.conn.port_range': 'Port mora biti izmeÄ‘u 1 i 65535',
    'obs.conn.add_failed_with': 'NeuspjeÅ¡no dodavanje veze: {err}',
    'obs.conn.update_failed': 'NeuspjeÅ¡no aÅ¾uriranje veze',
    'obs.conn.update_failed_with': 'NeuspjeÅ¡no aÅ¾uriranje veze: {err}',
    'obs.conn.no_edit': 'Nema veze za ureÄ‘ivanje',
    'obs.conn.add_new': 'Dodaj novu vezu',
    'obs.conn.edit': 'Uredi vezu',
    'obs.conn.name_label': 'Naziv veze *',
    'obs.conn.host_label': 'Host',
    'obs.conn.port_label': 'Port',
    'obs.conn.password_label': 'Lozinka (opcionalno)',
    'obs.conn.password_set': 'Lozinka je postavljena (kliknite za promjenu)',
    'obs.conn.password_hint': 'Ostavite prazno ako nema lozinke',
    'obs.conn.save_settings': 'Spremi postavke veze',
    'obs.conn.loading': 'UÄitavanje OBS veza...',
    'obs.conn.none_local': 'Nema lokalnih OBS veza. Dodajte OBS_REC i OBS_STR za poÄetak!',
    'obs.conn.none_remote': 'Nema udaljenih OBS veza. Dodajte udaljene instance za kontrolu.',
    'obs.test_obws': 'Testiraj obws',
    'obs.events.title': 'OBS dogaÄ‘aji',
    'obs.events.total': 'Ukupno dogaÄ‘aja',
    'obs.events.last': 'Zadnji dogaÄ‘aj',
    'obs.events.scene': 'Scena',
    'obs.events.recording': 'Snimanje',
    'obs.events.streaming': 'Streamanje',
    'obs.events.empty': 'JoÅ¡ nema OBS dogaÄ‘aja. DogaÄ‘aji Ä‡e se pojaviti ovdje kada ih OBS poÅ¡alje.',
    'obs.debug.title': 'Informacije za otklanjanje pogreÅ¡aka',
    'obs.debug.mode': 'NaÄin',
    'obs.debug.total': 'Ukupno veza',
    'obs.debug.errors': 'PogreÅ¡ke',
    'obs.debug.check_console': 'Provjerite konzolu za sirovi odgovor backenda',
    'obs.debug.raw_backend': 'Dohvati sirovi odgovor backenda',
    'obs.debug.no_conn_status': 'Nema veza dostupnih za provjeru statusa',
    'obs.debug.get_status': 'Dohvati OBS status',
    // WebSocket Manager
    'obs.ws.header.local': 'Lokalne OBS WebSocket veze',
    'obs.ws.header.remote': 'Udaljene OBS WebSocket veze',
    'obs.ws.none': 'Nema konfiguriranih WebSocket veza',
    'obs.ws.reconnect.title': 'Globalne postavke ponovnog povezivanja',
    'obs.ws.reconnect.auto': 'Automatsko ponovno povezivanje pri gubitku veze',
    'obs.ws.reconnect.auto_title': 'OmoguÄ‡ite automatsko ponovno povezivanje kada se veza izgubi',
    'obs.ws.reconnect.auto_aria': 'Automatsko ponovno povezivanje pri gubitku veze',
    'obs.ws.reconnect.monitor': 'OmoguÄ‡i praÄ‡enje statusa veze',
    'obs.ws.reconnect.monitor_title': 'OmoguÄ‡ite kontinuirano praÄ‡enje statusa veze',
    'obs.ws.reconnect.monitor_aria': 'OmoguÄ‡i praÄ‡enje statusa veze',
    'obs.ws.reconnect.delay': 'Odgoda ponovnog povezivanja (sekunde)',
    'obs.ws.reconnect.max': 'Maksimalan broj pokuÅ¡aja ponovnog povezivanja',
    'obs.ws.reconnect.interval': 'Interval provjere statusa (sekunde)',
    'obs.ws.reconnect.save': 'Spremi postavke ponovnog povezivanja',
    'obs.ws.save_reconnect_failed': 'Spremanje postavki ponovnog povezivanja nije uspjelo: {err}',
    'obs.ws.protocol.title': 'Informacije o protokolu',
    'obs.ws.protocol.v5': 'OBS WebSocket v5',
    'obs.ws.protocol.default_port': 'Zadani port',
    'obs.ws.protocol.auth': 'SHA256 autentikacija',
    'obs.ws.protocol.features': 'Napredne znaÄajke i API',
    'obs.ws.protocol.errors': 'Bolje rukovanje pogreÅ¡kama',
    'obs.ws.protocol.impl': 'Moderna WebSocket implementacija',
    'obs.ws.protocol.recommended': 'PreporuÄeno za sve nove instalacije',
    // PSS Triggers
    'pss.triggers.title': 'OkidaÄi dogaÄ‘aja',
    'pss.triggers.match': 'OkidaÄi meÄa',
    'pss.triggers.auto_start': 'Automatski pokreni snimanje',
    'pss.triggers.auto_start_desc': 'Pokreni snimanje videa kada meÄ zapoÄne',
    'pss.triggers.auto_stop': 'Automatski zaustavi snimanje',
    'pss.triggers.auto_stop_desc': 'Zaustavi snimanje kada meÄ zavrÅ¡i',
    'pss.triggers.score': 'OkidaÄi rezultata',
    'pss.triggers.threshold': 'Upozorenja na prag bodova',
    'pss.triggers.threshold_desc': 'Obavijesti kada rezultat dosegne odreÄ‘ene bodove',
    'pss.triggers.win_detection': 'Detekcija pobjednika',
    'pss.triggers.win_detection_desc': 'Automatski detektiraj pobjednike meÄa',
    'pss.triggers.system': 'Sistemski okidaÄi',
    'pss.triggers.connection_monitoring': 'PraÄ‡enje veze',
    'pss.triggers.connection_monitoring_desc': 'Upozori na probleme s UDP vezom',
    'pss.triggers.performance_alerts': 'Upozorenja o performansama',
    'pss.triggers.performance_alerts_desc': 'Obavijesti o visokoj potroÅ¡nji CPU/RAM',
    'pss.triggers.v2': 'OkidaÄi (v2)',
    // Triggers UI labels
    'triggers.event': 'DogaÄ‘aj',
    'triggers.select': 'Odaberiteâ€¦',
    'triggers.action': 'Akcija',
    'triggers.action.change_scene': 'Promijeni scenu',
    'triggers.action.show_overlay': 'PrikaÅ¾i overlay',
    'triggers.action.record_start': 'Pokreni snimanje',
    'triggers.action.record_stop': 'Zaustavi snimanje',
    'triggers.action.replay_save': 'Spremi buffer ponovnog pregleda',
    'triggers.connection': 'Veza',
    'triggers.default': 'zadano',
    'triggers.target_type': 'Tip mete',
    'triggers.scene': 'Scena',
    'triggers.overlay': 'Overlay',
    'triggers.target': 'Meta',
    'triggers.overlay_target': 'Cilj overlaya',
    'triggers.select_overlay': 'Odaberite overlayâ€¦',
    'triggers.scene_target': 'Cilj scene',
    'triggers.select_scene': 'Odaberite scenuâ€¦',
    'triggers.conditions': 'Uvjeti',
    'triggers.round': 'Runda',
    'triggers.once_per_short': 'Jednom-po',
    'triggers.once_per': 'Jednom-po',
    'triggers.once': 'jednom',
    'triggers.per_round': 'Po rundi',
    'triggers.per_match': 'Po meÄu',
    'triggers.debounce': 'Debounce',
    'triggers.cooldown': 'HlaÄ‘enje',
    'triggers.enabled': 'OmoguÄ‡eno',
    'triggers.loading': 'UÄitavanje okidaÄaâ€¦',
    'triggers.obs_connections': 'OBS veze',
    'triggers.add_rule': 'Dodaj pravilo',
    'triggers.delete': 'ObriÅ¡i',
    'triggers.load_scenes': 'UÄitaj OBS scene',
    'triggers.resume_delay': 'Odgoda nastavka (ms)',
    'triggers.hide_recent': 'Sakrij nedavno',
    'triggers.show_recent': 'PrikaÅ¾i nedavno',
    'triggers.refresh_logs': 'OsvjeÅ¾i zapise',
    'triggers.save_replay': 'Spremi ponovni pregled',
    'triggers.recent': 'Nedavno',
    'triggers.recent_exec': 'Nedavna izvrÅ¡enja',
    'triggers.no_recent': 'Nema nedavnih izvrÅ¡enja',
    'triggers.delay': 'Odgoda',
    'triggers.test': 'Test',
    // Demo components translations (VideoClips, Settings, Overlay, SidebarTest, EventTable)
    'clips.title': 'Video isjeÄci',
    'clips.add_toggle_add': '+ Dodaj isjeÄak',
    'clips.add_button': 'Dodaj isjeÄak',
    'clips.form.required': 'Naziv i put su obavezni',
    'clips.form.name_label': 'Naziv isjeÄka *',
    'clips.form.name_placeholder': 'npr. Sjajan gol, Sjajna obrana',
    'clips.form.path_label': 'Put do datoteke *',
    'clips.form.path_placeholder': '/put/do/video.mp4',
    'clips.form.duration_label': 'Trajanje (sekunde)',
    'clips.form.duration_placeholder': '120',
    'clips.form.tags_label': 'Oznake (zarezom odvojene)',
    'clips.form.tags_placeholder': 'gol, obrana, saÅ¾etak',
    'clips.search_placeholder': 'PretraÅ¾ite isjeÄke...',
    'clips.filter.label': 'Filtriraj po oznakama',
    'clips.empty.no_clips': 'JoÅ¡ nema dodanih isjeÄaka',
    'clips.empty.no_match': 'Nijedan isjeÄak ne odgovara pretrazi',
    'clips.empty.add_first': 'Dodajte svoj prvi isjeÄak',
    'clips.duration': 'Trajanje',
    // Demo Settings
    'demo.settings.title': 'Postavke',
    'demo.settings.tab.overlay': 'Postavke overlaya',
    'demo.settings.tab.performance': 'Performanse',
    'demo.settings.tab.data': 'Upravljanje podacima',
    'demo.settings.hide_overlay': 'Sakrij overlay',
    'demo.settings.show_overlay': 'PrikaÅ¾i overlay',
    'demo.settings.reset_defaults': 'Vrati na zadano',
    'demo.settings.overlay.position': 'Pozicija overlaya',
    'demo.settings.option': 'Opcija postavki',
    'demo.settings.pos.top_left': 'Gore lijevo',
    'demo.settings.pos.top_right': 'Gore desno',
    'demo.settings.pos.bottom_left': 'Dolje lijevo',
    'demo.settings.pos.bottom_right': 'Dolje desno',
    'demo.settings.pos.center': 'Centar',
    'demo.settings.overlay.theme': 'Tema',
    'demo.settings.theme.dark': 'Tamna',
    'demo.settings.theme.light': 'Svijetla',
    'demo.settings.theme.transparent': 'Prozirna',
    'demo.settings.overlay.opacity': 'Neprozirnost',
    'demo.settings.overlay.opacity_tip': 'Podesite neprozirnost overlaya',
    'demo.settings.overlay.scale': 'Skaliranje',
    'demo.settings.overlay.scale_tip': 'Podesite skaliranje overlaya',
    'demo.settings.preview': 'Pregled',
    'demo.settings.preview.player': 'Video reproduktor',
    'demo.settings.preview.status': 'Statusna traka',
    'demo.settings.preview.controls': 'Kontrole',
    'demo.settings.performance.title': 'Postavke performansi',
    'demo.settings.performance.quality': 'Kvaliteta videa',
    'demo.settings.quality.high': 'Visoka kvaliteta',
    'demo.settings.quality.medium': 'Srednja kvaliteta',
    'demo.settings.quality.low': 'Niska kvaliteta',
    'demo.settings.performance.hw': 'Hardversko ubrzanje',
    'demo.settings.performance.caching': 'OmoguÄ‡i predmemoriranje videa',
    'demo.settings.shortcuts.title': 'TipkovniÄke kratice',
    'demo.settings.shortcuts.toggle_overlay': 'UkljuÄi/iskljuÄi vidljivost overlaya',
    'demo.settings.shortcuts.play_pause': 'Reproduciraj/pauziraj trenutni isjeÄak',
    'demo.settings.shortcuts.next': 'SljedeÄ‡i isjeÄak',
    'demo.settings.shortcuts.prev': 'Prethodni isjeÄak',
    'demo.settings.shortcuts.fullscreen': 'UkljuÄi/iskljuÄi cijeli zaslon',
    'demo.settings.data.title': 'Upravljanje podacima',
    'demo.settings.data.clip_location': 'Lokacija pohrane isjeÄaka',
    'demo.settings.data.clip_location_tip': 'Unesite lokaciju gdje su pohranjeni isjeÄci',
    'demo.settings.data.export': 'Izvezi postavke',
    'demo.settings.data.import': 'Uvezi postavke',
    'demo.settings.data.clear': 'ObriÅ¡i sve podatke',
    // Overlay
    'overlay.no_video': 'Nije odabran video',
    'overlay.duration': 'Trajanje',
    'overlay.video': 'Video',
    'overlay.playing': 'Reprodukcija',
    // SidebarTest
    'sidebar.title': 'BoÄna traka dogaÄ‘aja',
    'sidebar.subtitle': 'DogaÄ‘aji i status natjecanja u stvarnom vremenu',
    'sidebar.events': 'dogaÄ‘aja',
    'sidebar.obs_status': 'OBS status',
    'sidebar.filters': 'Filteri dogaÄ‘aja',
    'sidebar.clear_filters': 'OÄisti filtre',
    'sidebar.player': 'IgraÄ',
    'sidebar.option': 'Opcija boÄne trake',
    'sidebar.all_players': 'Svi igraÄi',
    'sidebar.red_player': 'Crveni igraÄ',
    'sidebar.blue_player': 'Plavi igraÄ',
    'sidebar.yellow_player': 'Å½uti igraÄ',
    'sidebar.event_type': 'Vrsta dogaÄ‘aja',
    'sidebar.all_events': 'Svi dogaÄ‘aji',
    'sidebar.points': 'Bodovi',
    'sidebar.warnings': 'Upozorenja',
    'sidebar.clock': 'Sat',
    'sidebar.rounds': 'Runde',
    'sidebar.scores': 'Rezultati',
    'sidebar.athletes': 'Natjecatelji',
    'sidebar.recent_events': 'Nedavni dogaÄ‘aji',
    // EventTable
    'table.rnd': 'RND',
    'table.no_events': 'JoÅ¡ nema dogaÄ‘aja',
    // LiveDataPanel
    'live.title': 'LIVE PODACI',
    'live.loading_settings': 'UÄitavanje postavki...',
    'live.type': 'Tip:',
    'live.select_type': 'Odaberite tip Å¾ivih podataka',
    'live.full_events': 'Svi dogaÄ‘aji',
    'live.events': 'DogaÄ‘aji',
    'live.no_events': 'Nema dostupnih PSS dogaÄ‘aja.',
    'live.ws_not_connected': 'WebSocket nije povezan.',
    'live.toggle_autoscroll': 'UkljuÄi/iskljuÄi automatsko pomicanje',
    // Drive browser
    'drive.folder_name': 'Naziv mape',
    'drive.err_create_folder': 'Neuspjelo kreiranje mape',
    'drive.choose_zip': 'Odaberite ZIP s Drive-a',
    'drive.choose_folder': 'Odaberite mapu na Drive-u',
    'common.search': 'PretraÅ¾iâ€¦',
    'common.sort': 'Sortiraj',
    'drive.modified': 'Izmijenjeno',
    'drive.name': 'Naziv',
    'drive.new_folder': 'Nova mapa',
    'drive.choose_here': 'Odaberite ovdje',
    'drive.col.name': 'Naziv',
    'drive.col.type': 'Tip',
    'drive.col.modified': 'Izmijenjeno',
    'drive.col.size': 'VeliÄina',
    'drive.col.action': 'Akcija',
    // Database management
    'db.mgmt.title': 'Upravljanje bazom podataka',
    'db.mgmt.subtitle': 'Upravljajte postavkama aplikacije i bazom podataka',
    'db.not_initialized': 'Baza podataka nije inicijalizirana',
    'db.initializing': 'Inicijalizacija...',
    'db.initialize': 'Inicijaliziraj',
    'db.info.title': 'Informacije o bazi podataka',
    'db.info.path': 'Put do baze',
    'db.info.size': 'VeliÄina datoteke',
    'db.info.tables': 'Tablice',
    'db.info.settings_count': 'Broj postavki',
    'db.info.hint': 'Kliknite OsvjeÅ¾i za uÄitavanje informacija o bazi',
    // Database migration
    'db.migration.title': 'Migracija baze podataka',
    'db.migration.subtitle': 'Upravljajte migracijom baze i pregledom podataka',
    'db.migration.tabs.migration': 'Migracija',
    'db.migration.tabs.status': 'Status',
    'db.migration.tabs.preview': 'Pregled',
    'db.migration.status.title': 'Status migracije',
    'db.migration.run': 'Pokreni migracije baze',
    'db.migration.running': 'Pokretanjeâ€¦',
    'db.migration.clear_pss': 'ObriÅ¡i sve PSS podatke',
    'db.migration.clear_confirm': 'Ovo Ä‡e OBRISATI sve meÄeve, dogaÄ‘aje, bodove, upozorenja i povezane podatke. Nastaviti?',
    'db.migration.clear_ok': 'Baza podataka je uspjeÅ¡no obrisana.',
    'db.migration.clear_failed': 'Neuspjelo brisanje baze: {err}',
    'db.migration.database_enabled.title': 'Baza omoguÄ‡ena',
    'db.migration.database_enabled.desc': 'Trenutni status naÄina rada baze',
    'db.migration.database_enabled.enabled': 'OmoguÄ‡eno',
    'db.migration.database_enabled.disabled': 'OnemoguÄ‡eno',
    'db.migration.completed.title': 'Migracija zavrÅ¡ena',
    'db.migration.completed.desc': 'Status migracije podataka iz JSON-a u bazu',
    'db.migration.completed.completed': 'ZavrÅ¡eno',
    'db.migration.completed.pending': 'Na Äekanju',
    'db.migration.backup.title': 'Stvorena sigurnosna kopija',
    'db.migration.backup.desc': 'Status izrade JSON sigurnosne kopije',
    'db.migration.backup.created': 'Stvoreno',
    'db.migration.backup.not_created': 'Nije stvoreno',
    'db.migration.count.json_settings': 'JSON postavke',
    'db.migration.count.database_settings': 'Postavke baze',
    'db.migration.status_page.title': 'Status baze podataka',
    'db.migration.db_conn.title': 'Veza s bazom',
    'db.migration.db_conn.desc': 'Status veze sa SQLite bazom',
    'db.migration.tables.title': 'Broj tablica',
    'db.migration.tables.desc': 'Broj tablica u bazi',
    'db.migration.preview.title': 'Pregled podataka',
    'db.migration.preview.select_aria': 'Odaberite tablicu baze za pregled',
    'db.migration.preview.select_placeholder': 'Odaberite tablicu',
    'db.migration.preview.table': 'Tablica: {name}',
    'db.migration.preview.rows': 'Redaka: {n}',
    'db.migration.preview.showing_rows': 'Prikazujem svih {n} redaka',
    'db.migration.preview.loading': 'UÄitavanje podataka tablice...',
    'db.migration.preview.select_prompt': 'Odaberite tablicu za pregled podataka',
    // DockBar
    'dock.manual_mode': 'RuÄni naÄin',
    'dock.advanced': 'Napredno',
    'dock.new_match': 'Novi meÄ',
    'dock.restore': 'Vrati',
    'dock.restoring': 'VraÄ‡anje...',
    'dock.auth.title': 'Autentikacija Naprednog naÄina',
    'dock.auth.message': 'Unesite lozinku za omoguÄ‡avanje Naprednog naÄina:',
    // Triggers drawer helper
    'triggers.recent_drawer': 'Ladica nedavnih izvrÅ¡enja',
    // Simulation aria helpers (kept literal where labels are not visible)
    'simulation.select_mode': 'Odaberite naÄin simulacije',
    'simulation.select_scenario': 'Odaberite scenarij simulacije',
    'simulation.title': 'Upravljanje simulacijom',
    'simulation.modes.automated': 'Automatska simulacija',
    'simulation.modes.selftest': 'Sistemski samotest',
    'simulation.modes.arcade': 'Arkadni naÄin (tipkovnica)',
    'simulation.status.title': 'Trenutni status',
    'simulation.status.running': 'Radi',
    'simulation.status.scenario': 'Scenarij',
    'simulation.status.mode': 'NaÄin',
    'simulation.status.events_sent': 'Poslani dogaÄ‘aji',
    'simulation.status.last_event': 'Zadnji dogaÄ‘aj',
    'simulation.install_deps': 'Instaliraj ovisnosti',
    // Simulation manual labels (already referenced in components)
    'simulation.manual.events': 'RuÄni dogaÄ‘aji',
    'simulation.points.punch': 'Udarac Å¡akom (1pt)',
    'simulation.points.body_kick': 'Udarac u tijelo (2pt)',
    'simulation.points.head_kick': 'Udarac u glavu (3pt)',
    'simulation.points.tech_body': 'Teh. tijelo (4pt)',
    'simulation.points.tech_head': 'Teh. glava (5pt)',
    'simulation.hit.blue_low': 'Plavi nisko (25)',
    'simulation.hit.blue_high': 'Plavi visoko (75)',
    'simulation.hit.red_low': 'Crveni nisko (25)',
    'simulation.hit.red_high': 'Crveni visoko (75)',
    'simulation.warn.blue': 'Opomena plavom',
    'simulation.warn.red': 'Opomena crvenom',
    'simulation.injury.blue': 'Ozljeda plavi',
    'simulation.injury.red': 'Ozljeda crveni',
    'simulation.challenge.blue_win': 'Plavi pobjeda',
    'simulation.challenge.red_lose': 'Crveni poraz',
    // Simulation headers
    'simulation.header.connection': 'Veza',
    'simulation.header.mode': 'NaÄin',
    'simulation.header.scenario': 'Scenarij',
    // Simulation manual panel
    'simulation.manual.mode': 'NaÄin simulacije',
    'simulation.manual.mode_aria': 'Odaberite naÄin simulacije',
    'simulation.manual.mode.demo': 'Demo',
    'simulation.manual.mode.random': 'NasumiÄni dogaÄ‘aji',
    'simulation.manual.mode.interactive': 'Interaktivno',
    'simulation.manual.scenario': 'Scenarij',
    'simulation.manual.scenario_aria': 'Odaberite scenarij simulacije',
    'simulation.manual.scenario.basic': 'Osnovni meÄ',
    'simulation.manual.scenario.championship': 'Prvenstvo',
    'simulation.manual.scenario.training': 'Trening',
    'simulation.manual.duration': 'Trajanje (sekunde)',
    'simulation.manual.start': 'Pokreni simulaciju',
    'simulation.manual.break': 'Vrijeme pauze',
    'simulation.manual.break_start': 'Pokreni pauzu',
    'simulation.manual.break_end': 'ZavrÅ¡i pauzu',
    'simulation.manual.clock': 'Kontrola sata',
    'simulation.manual.clock_start': 'Pokreni sat',
    'simulation.manual.clock_stop': 'Zaustavi sat',
    'simulation.manual.round': 'Kontrola rundi',
    'simulation.manual.round1': 'Runda 1',
    'simulation.manual.round2': 'Runda 2',
    'simulation.manual.round3': 'Runda 3',
    // Simulation automated panel
    'simulation.automated.label': 'Automatski scenarij',
    'simulation.automated.select_aria': 'Odaberite automatski scenarij simulacije',
    'simulation.automated.option.basic': 'Osnovni meÄ',
    'simulation.automated.option.quick': 'Brzi test',
    'simulation.automated.matches': 'meÄeva',
    'simulation.automated.progress': 'Napredak',
    'simulation.automated.start': 'Pokreni automatski',
    // Simulation arcade panel
    'simulation.arcade.hint': 'Arkadni naÄin â€“ Plavi: A/D J K L U I | Crveni: â†/â†’ 1..5',
    'simulation.arcade.mute_sfx': 'UtiÅ¡aj zvuÄne efekte',
    'simulation.arcade.music': 'Glazba',
    // Flags management
    'flags.upload.title': 'UÄitaj prilagoÄ‘enu zastavu',
    'flags.upload.choose_file_aria': 'Odaberite datoteku slike zastave',
    'flags.upload.choose_file_title': 'Odaberite datoteku slike zastave',
    'flags.upload.choose_button': 'Odaberi sliku zastave',
    'flags.upload.format_hint': 'PNG, JPG ili GIF format',
    'flags.upload.help': 'UÄitajte prilagoÄ‘enu sliku zastave kako biste je dodali u dostupne zastave. Slika treba biti u PNG, JPG ili GIF formatu.',
    'flags.list.title': 'Dostupne zastave',
    'flags.list.count': '{n} od {m} zastava',
    'flags.search.label': 'PretraÅ¾i zastave',
    'flags.search.placeholder': 'PretraÅ¾ite po IOC kodu, nazivu drÅ¾ave ili PSS kodu...',
    'flags.list.loading': 'UÄitavanje zastava...',
    'flags.list.none': 'Nema pronaÄ‘enih zastava',
    'flags.details.title': 'Detalji zastave',
    'flags.details.ioc_code': 'IOC kod',
    'flags.details.file': 'Datoteka',
    'flags.db.title': 'Informacije o bazi podataka',
    'flags.db.id': 'ID',
    'flags.db.status': 'Status',
    'flags.db.confidence': 'Pouzdanost',
    'flags.db.uploaded': 'UÄitano',
    'flags.db.size': 'VeliÄina',
    'flags.mapping.title': 'PSS mapiranje koda',
    'flags.mapping.current': 'Trenutni PSS kod',
    'flags.mapping.help': 'Ova je zastava mapirana na gore prikazani PSS kod. Po potrebi moÅ¾ete promijeniti ovo mapiranje.',
    'flags.mapping.new_placeholder': 'Novi PSS kod...',
    'flags.mapping.update': 'AÅ¾uriraj',
    'flags.mapping.reset': 'Vrati na IOC',
    'flags.mapping.mapped_to': 'Mapirano na',
    'flags.stats.title': 'Statistika baze podataka',
    'flags.stats.total': 'Ukupno zastava',
    'flags.stats.recognized': 'Prepoznato',
    'flags.stats.pending': 'Na Äekanju',
    'flags.stats.failed': 'Neuspjelo',
    'flags.actions.scan_populate': 'Skeniraj i popuni zastave',
    'flags.actions.clear_db': 'OÄisti bazu zastava',
    'flags.err.load': 'NeuspjeÅ¡no uÄitavanje zastava: {msg}',
    'flags.err.nodb': 'Funkcionalnost baze nije dostupna u ovom okruÅ¾enju',
    'flags.err.some': 'Dogodile su se neke greÅ¡ke: {err}',
    'flags.err.scan_populate': 'Neuspjelo skeniranje i popunjavanje zastava',
    'flags.err.scan': 'Neuspjelo skeniranje zastava: {msg}',
    'flags.err.clear_db': 'Neuspjelo ÄiÅ¡Ä‡enje baze zastava',
    'flags.err.clear': 'Neuspjelo brisanje zastava: {msg}',
    'flags.err.select_image': 'Molimo odaberite datoteku slike',
    'flags.err.upload': 'Neuspjelo uÄitavanje zastave',
    'flags.err.mapping_update': 'Neuspjelo aÅ¾uriranje mapiranja',
    'flags.err.mapping_reset': 'Neuspjelo vraÄ‡anje mapiranja',
    'flags.success.upload': 'Zastava je uspjeÅ¡no uÄitana: {name}',
    'flags.success.scan': 'UspjeÅ¡no skeniranje i popunjavanje zastava! Obradjeno: {p}, PreskoÄeno: {s}',
    'flags.success.cleared': 'Baza zastava je uspjeÅ¡no oÄiÅ¡Ä‡ena! Obrisano: {n} zapisa',
    'flags.success.mapping_update': 'Mapiranje aÅ¾urirano za {ioc}',
    'flags.success.mapping_reset': 'PSS kod vraÄ‡en na IOC kod za {ioc}',
    // CPU monitoring
    'cpu.title': 'Nadzor CPU-a',
    'cpu.last_update': 'Zadnje aÅ¾uriranje: {time}',
    'cpu.start_monitoring': 'Pokreni nadzor',
    'cpu.stop_monitoring': 'Zaustavi nadzor',
    'cpu.refresh': 'OsvjeÅ¾i',
    'cpu.top': 'Top',
    'cpu.system_cpu': 'Sustav CPU',
    'cpu.total': 'Ukupno:',
    'cpu.cores': 'Jezgre:',
    'cpu.cores_detected': '{n} otkriveno',
    'cpu.updated': 'AÅ¾urirano:',
    'cpu.all_processes': 'Svi aktivni procesi ({n})',
    'cpu.no_processes': 'Nema detektiranih procesa',
    'cpu.disabled': 'Nadzor je onemoguÄ‡en',
    'cpu.cpu': 'CPU:',
    'cpu.memory': 'Memorija:',
    'cpu.mb': 'MB',
    'cpu.powered_by': 'Nadzor CPU-a pokreÄ‡u sistemske naredbe (wmic/ps)',
    'cpu.update_interval': 'Interval aÅ¾uriranja: {s}',
  },
  
  // German
  de: {
    'drawer.pss': 'PSS',
    'drawer.obs': 'OBS',
    'drawer.ovr': 'OVR',
    'drawer.ivr': 'IVR',
    'drawer.ai': 'AI',
    'drawer.settings': 'Einstellungen',
    'app.title': 'reStrike VTA - Windows Desktop',
    'env.windows_native': 'Windows-Anwendung',
    'env.web_mode': 'Web-Modus',
    'status.ready': 'Status: Bereit',
    'action.generic': 'Aktion',
    'settings.tabs.diagnostics': 'Diagnostik & Protokollverwaltung',
    'settings.tabs.database': 'Datenbank',
    'settings.tabs.backup': 'Sicherung & Wiederherstellung',
    'settings.tabs.app': 'App-Einstellungen',
    'ivr.tabs.history': 'Match-Verlauf',
    'ivr.tabs.settings': 'IVR Videoeinstellungen',
    'ovr.tabs.integration': 'Integration',
    'ovr.tabs.tournament': 'Turnierverwaltung',
    'obs.tabs.websocket': 'WebSocket',
    'obs.tabs.control_room': 'Kontrollraum',
    'obs.tabs.integration': 'Integration',
    'pss.tabs.udp': 'UDP-Server & Protokoll',
    'pss.tabs.flags': 'Flaggenverwaltung',
    'pss.tabs.scoreboard': "Anzeigetafel",
    'pss.tabs.simulation': 'Simulation',
    'pss.tabs.triggers': 'AuslÃ¶ser',
    'settings.language': 'Sprache',
    'settings.select_language': 'Sprache auswÃ¤hlen',
    // Backup/Archive common
    'common.creating': 'Wird erstelltâ€¦',
    'common.create': 'Erstellen',
    'common.uploading': 'Wird hochgeladenâ€¦',
    'common.processing': 'Wird verarbeitetâ€¦',
    'common.running': 'Wird ausgefÃ¼hrtâ€¦',
    'common.error': 'Fehler',
    'common.success': 'Erfolg',
    // Logs for LogDownloadList
    'logs.title': 'Protokolle herunterladen',
    'logs.type': 'Typ:',
    'logs.select_type': 'Protokolltyp auswÃ¤hlen',
    'logs.types.pss': 'PSS',
    'logs.types.obs': 'OBS',
    'logs.types.udp': 'UDP',
    'logs.types.websocket': 'WebSocket',
    'logs.types.db': 'Datenbank',
    'logs.types.app': 'Anwendung',
    'logs.types.arc': 'Archiv',
    'logs.table.file': 'Dateiname',
    'logs.table.size': 'GrÃ¶ÃŸe',
    'logs.table.modified': 'GeÃ¤ndert',
    'logs.loading': 'Protokolle werden geladen...',
    'logs.downloading': 'Wird heruntergeladen...',
    'logs.archive': 'Archiv',
    'logs.double_click': 'Doppelklicken zum Herunterladen',
    'logs.none': 'Keine Protokolle gefunden',
    'logs.none_error': 'Keine Protokolle aufgrund eines Fehlers',
    'logs.error.fetch_archives': 'Archivdateien konnten nicht abgerufen werden',
    'logs.error.fetch_logs': 'Protokolldateien konnten nicht abgerufen werden',
    'logs.error.timeout': 'ZeitÃ¼berschreitung. Dienst ist beschÃ¤ftigt oder reagiert nicht. Bitte erneut versuchen.',
    'logs.error.tauri_missing': 'Tauri nicht verfÃ¼gbar. Bitte im Desktop-Modus ausfÃ¼hren.',
    'logs.error.generic_fetch': 'Fehler beim Abrufen von {what}: {msg}',
    'logs.error.download_timeout': 'ZeitÃ¼berschreitung beim Herunterladen von {name}. Bitte erneut versuchen.',
    'logs.error.download_failed': 'Herunterladen von {name} fehlgeschlagen: {msg}',
    'logs.error.tauri_no_download': '{name} kann im Webmodus nicht heruntergeladen werden.',
    'logs.error.download_error': 'Fehler beim Herunterladen von {name}: {msg}',
    // Backup & Restore
    'backup.title': 'Sicherung & Wiederherstellung',
    'backup.subtitle': 'Lokale Sicherungen und Google Drive Integration verwalten',
    'backup.tabs.local': 'Lokale Sicherung',
    'backup.tabs.drive': 'Google Drive',
    'backup.local.title': 'Lokale Sicherung',
    'backup.local.create': 'Sicherung erstellen',
    'backup.table.file': 'Dateiname',
    'backup.table.size': 'GrÃ¶ÃŸe',
    'backup.table.modified': 'GeÃ¤ndert',
    'backup.table.action': 'Aktion',
    'backup.none': 'Keine Sicherungsdateien gefunden',
    'backup.none_hint': 'Erstellen Sie eine Sicherung, um sie hier zu sehen',
    'backup.restoring': 'Wiederherstellungâ€¦',
    'backup.restore': 'Wiederherstellen',
    'backup.create_ok': 'Sicherung erfolgreich erstellt',
    'backup.create_failed': 'Erstellen der Sicherung fehlgeschlagen',
    'backup.confirm_restore': 'Sind Sie sicher, dass Sie diese Sicherung wiederherstellen mÃ¶chten? Aktuelle Einstellungen werden Ã¼berschrieben.',
    'backup.restore_ok': 'Sicherung erfolgreich wiederhergestellt',
    'backup.restore_failed': 'Wiederherstellung fehlgeschlagen',
    'backup.drive.title': 'Google Drive Integration',
    'backup.drive.subtitle': 'Sichern und Wiederherstellen mit Google Drive',
    // Archive Manager
    'logs.archive_mgr.title': 'Log-Archiv-Manager',
    'logs.archive_mgr.load_failed': 'Konfiguration konnte nicht geladen werden',
    'logs.archive_mgr.load_failed_with': 'Konfiguration konnte nicht geladen werden: {err}',
    'logs.archive_mgr.save_ok': 'Konfiguration erfolgreich gespeichert',
    'logs.archive_mgr.save_failed': 'Konfiguration konnte nicht gespeichert werden',
    'logs.archive_mgr.save_failed_with': 'Konfiguration konnte nicht gespeichert werden: {err}',
    'logs.archive_mgr.create_ok': 'Archiv erfolgreich erstellt: {name}',
    'logs.archive_mgr.create_failed': 'Archiv konnte nicht erstellt werden',
    'logs.archive_mgr.create_failed_with': 'Archiv konnte nicht erstellt werden: {err}',
    'logs.archive_mgr.upload_ok': 'Archiv erfolgreich hochgeladen',
    'logs.archive_mgr.upload_failed': 'Hochladen des Archivs fehlgeschlagen',
    'logs.archive_mgr.upload_failed_with': 'Hochladen des Archivs fehlgeschlagen: {err}',
    'logs.archive_mgr.upload_cleanup_ok': 'Archiv hochgeladen und bereinigt',
    'logs.archive_mgr.upload_cleanup_failed': 'Hochladen und Bereinigen fehlgeschlagen',
    'logs.archive_mgr.upload_cleanup_failed_with': 'Hochladen und Bereinigen fehlgeschlagen: {err}',
    'logs.archive_mgr.auto_ok': 'Automatische Archivierung abgeschlossen',
    'logs.archive_mgr.auto_failed': 'Automatische Archivierung fehlgeschlagen',
    'logs.archive_mgr.auto_failed_with': 'Automatische Archivierung fehlgeschlagen: {err}',
    'logs.archive_mgr.create_title': 'Lokales Archiv erstellen',
    'logs.archive_mgr.create_upload_title': 'Erstellen und auf Drive hochladen',
    'logs.archive_mgr.upload_delete_title': 'Hochladen und lokale Kopie lÃ¶schen',
    'logs.archive_mgr.auto_label': 'Automatische Archivierung',
    'logs.archive_mgr.schedule': 'Zeitplan',
    'logs.archive_mgr.weekly': 'WÃ¶chentlich',
    'logs.archive_mgr.monthly': 'Monatlich',
    'logs.archive_mgr.quarterly': 'Alle 3 Monate',
    'logs.archive_mgr.biannual': 'Alle 6 Monate',
    'logs.archive_mgr.annual': 'Annuel',
    'logs.archive_mgr.upload': 'Hochladen',
    'logs.archive_mgr.delete': 'LÃ¶schen',
    'logs.archive_mgr.run_now': 'Jetzt ausfÃ¼hren',
    'logs.archive_mgr.status': 'Statut',
    'logs.archive_mgr.enabled': 'Aktiviert',
    'logs.archive_mgr.disabled': 'Deaktiviert',
    'logs.archive_mgr.next': 'NÃ¤chste',
    'logs.archive_mgr.due': 'Archivierung fÃ¤llig',
    // OBS Integration prompts
    'obs.integration.no_connection': 'Keine Verbindung ausgewÃ¤hlt',
    'obs.integration.save_ok': 'Konfiguration erfolgreich gespeichert!',
    'obs.integration.save_failed_with': 'Konfiguration konnte nicht gespeichert werden: {err}',
    'obs.integration.select_first': 'Bitte zuerst eine Verbindung auswÃ¤hlen',
    'obs.integration.start_sent': 'Commande de dÃ©marrage de l\'enregistrement envoyÃ©e.',
    'obs.integration.start_failed_with': 'Ã‰chec du dÃ©marrage de l\'enregistrement : {err}',
    'obs.integration.stop_sent': 'Commande d\'arrÃªt de l\'enregistrement envoyÃ©e.',
    'obs.integration.stop_failed_with': 'Ã‰chec de l\'arrÃªt de l\'enregistrement : {err}',
    'obs.integration.create_dirs_ok': 'âœ… Dossiers crÃ©Ã©s avec succÃ¨s !\n\nğŸ“ RÃ©pertoire : {dir}\nğŸ“„ Nom de fichier : {file}\nğŸ“ Chemin complet : {full}',
    'obs.integration.create_dirs_failed': 'âŒ Ã‰chec de la crÃ©ation des dossiers : {err}',
    'obs.integration.sent_ok': 'âœ… Configuration envoyÃ©e Ã  OBS !\n\nğŸ“ Chemin d\'enregistrement : {path}\nğŸ“„ ModÃ¨le de nom : {fmt}',
    'obs.integration.sent_failed': 'âŒ Ã‰chec de l\'envoi Ã  OBS : {err}',
    'obs.integration.db_path_ok': 'Chemin gÃ©nÃ©rÃ© depuis la base de donnÃ©es',
    'obs.integration.db_path_failed': 'Ã‰chec de la gÃ©nÃ©ration du chemin : {err}',
    'obs.integration.detect_videos_ok': 'Dossier VidÃ©os dÃ©tectÃ© : {path}',
    'obs.integration.detect_videos_failed': 'Ã‰chec de la dÃ©tection du dossier VidÃ©os : {err}',
  },
  fr: {
    'drawer.pss': 'PSS',
    'drawer.obs': 'OBS',
    'drawer.ovr': 'OVR',
    'drawer.ivr': 'IVR',
    'drawer.ai': 'AI',
    'drawer.settings': 'ParamÃ¨tres',
    'app.title': 'reStrike VTA - Windows Desktop',
    'env.windows_native': 'Application Windows',
    'env.web_mode': 'Mode Web',
    'status.ready': 'Statut : PrÃªt',
    'action.generic': 'Action',
    'settings.tabs.diagnostics': 'Diagnostic et gestion des journaux',
    'settings.tabs.database': 'Base de donnÃ©es',
    'settings.tabs.backup': 'Sauvegarde et restauration',
    'settings.tabs.app': "ParamÃ¨tres de l'application",
    'ivr.tabs.history': 'Historique des matchs',
    'ivr.tabs.settings': 'ParamÃ¨tres vidÃ©o IVR',
    'ovr.tabs.integration': 'IntÃ©gration',
    'ovr.tabs.tournament': 'Gestion du tournoi',
    'obs.tabs.websocket': 'WebSocket',
    'obs.tabs.control_room': 'Salle de contrÃ´le',
    'obs.tabs.integration': 'IntÃ©gration',
    'pss.tabs.udp': 'Serveur UDP et protocole',
    'pss.tabs.flags': 'Gestion des drapeaux',
    'pss.tabs.scoreboard': "Tableau d'affichage",
    'pss.tabs.simulation': 'Simulation',
    'pss.tabs.triggers': 'DÃ©clencheurs',
    'settings.language': 'Langue',
    'settings.select_language': 'SÃ©lectionnez la langue',
    // Backup/Archive common
    'common.creating': 'CrÃ©ationâ€¦',
    'common.create': 'CrÃ©er',
    'common.uploading': 'TÃ©lÃ©versementâ€¦',
    'common.processing': 'Traitementâ€¦',
    'common.running': 'ExÃ©cutionâ€¦',
    'common.error': 'Erreur',
    'common.success': 'SuccÃ¨s',
    // Logs for LogDownloadList
    'logs.title': 'TÃ©lÃ©charger les journaux',
    'logs.type': 'Type :',
    'logs.select_type': 'SÃ©lectionnez le type de journal',
    'logs.types.pss': 'PSS',
    'logs.types.obs': 'OBS',
    'logs.types.udp': 'UDP',
    'logs.types.websocket': 'WebSocket',
    'logs.types.db': 'Base de donnÃ©es',
    'logs.types.app': 'Application',
    'logs.types.arc': 'Archive',
    'logs.table.file': 'Nom du fichier',
    'logs.table.size': 'Taille',
    'logs.table.modified': 'ModifiÃ©',
    'logs.loading': 'Chargement des journaux...',
    'logs.downloading': 'TÃ©lÃ©chargement...',
    'logs.archive': 'Archive',
    'logs.double_click': 'Double-cliquez pour tÃ©lÃ©charger',
    'logs.none': 'Aucun journal trouvÃ©',
    'logs.none_error': "Aucun journal en raison d'une erreur",
    'logs.error.fetch_archives': 'Ã‰chec du chargement des archives',
    'logs.error.fetch_logs': 'Ã‰chec du chargement des journaux',
    'logs.error.timeout': 'La commande a expirÃ©. Le service est occupÃ© ou ne rÃ©pond pas. Veuillez rÃ©essayer.',
    'logs.error.tauri_missing': "Tauri non disponible. Assurez-vous que l'application est en mode bureau.",
    'logs.error.generic_fetch': 'Erreur lors du chargement de {what} : {msg}',
    'logs.error.download_timeout': 'DÃ©lai dÃ©passÃ© pour le tÃ©lÃ©chargement de {name}. Veuillez rÃ©essayer.',
    'logs.error.download_failed': 'Ã‰chec du tÃ©lÃ©chargement de {name} : {msg}',
    'logs.error.tauri_no_download': 'Impossible de tÃ©lÃ©charger {name} en mode web.',
    'logs.error.download_error': 'Erreur lors du tÃ©lÃ©chargement de {name} : {msg}',
    // Backup & Restore
    'backup.title': 'Sauvegarde et restauration',
    'backup.subtitle': 'GÃ©rez les sauvegardes locales et l\'intÃ©gration Google Drive',
    'backup.tabs.local': 'Sauvegarde locale',
    'backup.tabs.drive': 'Google Drive',
    'backup.local.title': 'Sauvegarde locale',
    'backup.local.create': 'CrÃ©er une sauvegarde',
    'backup.table.file': 'Nom du fichier',
    'backup.table.size': 'Taille',
    'backup.table.modified': 'ModifiÃ©',
    'backup.table.action': 'Action',
    'backup.none': 'Aucune sauvegarde trouvÃ©e',
    'backup.none_hint': 'CrÃ©ez une sauvegarde pour la voir ici',
    'backup.restoring': 'Restauration...',
    'backup.restore': 'Restaurer',
    'backup.create_ok': 'Sauvegarde crÃ©Ã©e avec succÃ¨s',
    'backup.create_failed': 'Ã‰chec de la crÃ©ation de la sauvegarde',
    'backup.confirm_restore': 'ÃŠtes-vous sÃ»r de vouloir restaurer cette sauvegarde ? Les paramÃ¨tres actuels seront remplacÃ©s.',
    'backup.restore_ok': 'Sauvegarde restaurÃ©e avec succÃ¨s',
    'backup.restore_failed': 'Ã‰chec de la restauration',
    'backup.drive.title': 'IntÃ©gration Google Drive',
    'backup.drive.subtitle': 'Sauvegarder et restaurer avec Google Drive',
    // Archive Manager
    'logs.archive_mgr.title': 'Gestionnaire d\'archives des journaux',
    'logs.archive_mgr.load_failed': 'Ã‰chec du chargement de la configuration',
    'logs.archive_mgr.load_failed_with': 'Ã‰chec du chargement : {err}',
    'logs.archive_mgr.save_ok': 'Configuration enregistrÃ©e avec succÃ¨s',
    'logs.archive_mgr.save_failed': 'Ã‰chec de l\'enregistrement de la configuration',
    'logs.archive_mgr.save_failed_with': 'Ã‰chec de l\'enregistrement : {err}',
    'logs.archive_mgr.create_ok': 'Archive crÃ©Ã©e avec succÃ¨s : {name}',
    'logs.archive_mgr.create_failed': 'Ã‰chec de la crÃ©ation de l\'archive',
    'logs.archive_mgr.create_failed_with': 'Ã‰chec de la crÃ©ation : {err}',
    'logs.archive_mgr.upload_ok': 'Archive tÃ©lÃ©versÃ©e avec succÃ¨s',
    'logs.archive_mgr.upload_failed': 'Ã‰chec du tÃ©lÃ©versement de l\'archive',
    'logs.archive_mgr.upload_failed_with': 'Ã‰chec du tÃ©lÃ©versement : {err}',
    'logs.archive_mgr.upload_cleanup_ok': 'Archive tÃ©lÃ©versÃ©e et nettoyÃ©e',
    'logs.archive_mgr.upload_cleanup_failed': 'Ã‰chec du tÃ©lÃ©versement/nettoyage',
    'logs.archive_mgr.upload_cleanup_failed_with': 'Ã‰chec du tÃ©lÃ©versement/nettoyage : {err}',
    'logs.archive_mgr.auto_ok': 'Archivage automatique terminÃ©',
    'logs.archive_mgr.auto_failed': 'Archivage automatique Ã©chouÃ©',
    'logs.archive_mgr.auto_failed_with': 'Archivage automatique Ã©chouÃ© : {err}',
    'logs.archive_mgr.create_title': 'CrÃ©er une archive locale',
    'logs.archive_mgr.create_upload_title': 'CrÃ©er et tÃ©lÃ©verser sur Drive',
    'logs.archive_mgr.upload_delete_title': 'TÃ©lÃ©verser et supprimer la copie locale',
    'logs.archive_mgr.auto_label': 'Archivage automatique',
    'logs.archive_mgr.schedule': 'Planification',
    'logs.archive_mgr.weekly': 'Hebdomadaire',
    'logs.archive_mgr.monthly': 'Mensuel',
    'logs.archive_mgr.quarterly': 'Tous les 3 mois',
    'logs.archive_mgr.biannual': 'Tous les 6 mois',
    'logs.archive_mgr.annual': 'Annuel',
    'logs.archive_mgr.upload': 'TÃ©lÃ©verser',
    'logs.archive_mgr.delete': 'Supprimer',
    'logs.archive_mgr.run_now': 'ExÃ©cuter maintenant',
    'logs.archive_mgr.status': 'Statut',
    'logs.archive_mgr.enabled': 'ActivÃ©',
    'logs.archive_mgr.disabled': 'DÃ©sactivÃ©',
    'logs.archive_mgr.next': 'Suivant',
    'logs.archive_mgr.due': 'Archivage Ã  faire',
    // OBS Integration prompts
    'obs.integration.no_connection': 'Aucune connexion sÃ©lectionnÃ©e',
    'obs.integration.save_ok': 'Configuration enregistrÃ©e avec succÃ¨s !',
    'obs.integration.save_failed_with': 'Ã‰chec de l\'enregistrement de la configuration : {err}',
    'obs.integration.select_first': 'Veuillez d\'abord sÃ©lectionner une connexion',
    'obs.integration.start_sent': 'Commande de dÃ©marrage de l\'enregistrement envoyÃ©e.',
    'obs.integration.start_failed_with': 'Ã‰chec du dÃ©marrage de l\'enregistrement : {err}',
    'obs.integration.stop_sent': 'Commande d\'arrÃªt de l\'enregistrement envoyÃ©e.',
    'obs.integration.stop_failed_with': 'Ã‰chec de l\'arrÃªt de l\'enregistrement : {err}',
    'obs.integration.create_dirs_ok': 'âœ… Dossiers crÃ©Ã©s avec succÃ¨s !\n\nğŸ“ RÃ©pertoire : {dir}\nğŸ“„ Nom de fichier : {file}\nğŸ“ Chemin complet : {full}',
    'obs.integration.create_dirs_failed': 'âŒ Ã‰chec de la crÃ©ation des dossiers : {err}',
    'obs.integration.sent_ok': 'âœ… Configuration envoyÃ©e Ã  OBS !\n\nğŸ“ Chemin d\'enregistrement : {path}\nğŸ“„ ModÃ¨le de nom : {fmt}',
    'obs.integration.sent_failed': 'âŒ Ã‰chec de l\'envoi Ã  OBS : {err}',
    'obs.integration.db_path_ok': 'Chemin gÃ©nÃ©rÃ© depuis la base de donnÃ©es',
    'obs.integration.db_path_failed': 'Ã‰chec de la gÃ©nÃ©ration du chemin : {err}',
    'obs.integration.detect_videos_ok': 'Dossier VidÃ©os dÃ©tectÃ© : {path}',
    'obs.integration.detect_videos_failed': 'Ã‰chec de la dÃ©tection du dossier VidÃ©os : {err}',
  },
};

function normalizeLocale(input: string | undefined | null): string {
  if (!input || typeof input !== 'string') return 'en';
  try {
    const short = input.toLowerCase().split('-')[0];
    const exists = Boolean((catalogs as any)[short]);
    return exists ? short : 'en';
  } catch {
    return 'en';
  }
}

function interpolate(str: string, values?: Record<string, string | number>): string {
  if (!str || !values) return str;
  return str.replace(/\{(.*?)\}/g, (_m, key) => {
    const v = values[key.trim()];
    return v === undefined || v === null ? '' : String(v);
  });
}

export const I18nProvider: React.FC<React.PropsWithChildren<{ defaultLocale?: string }>> = ({ children, defaultLocale }) => {
  const initialLocale = useMemo(() => {
    try {
      const stored = localStorage.getItem(I18N_STORAGE_KEY);
      if (stored) {
        const norm = normalizeLocale(stored);
        console.log('[i18n] initial from localStorage:', { stored, norm });
        return norm;
      }
      if (defaultLocale) {
        const norm = normalizeLocale(defaultLocale);
        console.log('[i18n] initial from defaultLocale prop:', { defaultLocale, norm });
        return norm;
      }
      if (typeof navigator !== 'undefined' && navigator.language) {
        const short = normalizeLocale(navigator.language);
        const exists = Boolean((catalogs as any)[short]);
        console.log('[i18n] initial from navigator:', { navigatorLanguage: navigator.language, short, exists });
        if (exists) return short;
      }
    } catch {}
    return 'en';
  }, [defaultLocale]);

  const [locale, setLocaleState] = useState<string>(initialLocale);

  useEffect(() => {
    try {
      localStorage.setItem(I18N_STORAGE_KEY, locale);
      console.log('[i18n] persisted locale to storage:', locale);
    } catch (e) {
      console.warn('[i18n] failed to persist locale:', e);
    }
  }, [locale]);

  const t = useMemo(() => {
    return (id: string, fallback?: string, values?: Record<string, string | number>) => {
      const primary = catalogs[locale] || {};
      let raw: string | undefined = primary[id];
      if (raw === undefined) {
        raw = fallback ?? id;
        if (primary[id] === undefined && fallback === undefined) {
          console.debug('[i18n] missing key; using id as string', { locale, id });
        }
      }
      return interpolate(raw, values);
    };
  }, [locale]);

  const setLocale = (loc: string) => {
    const normalized = normalizeLocale(loc);
    setLocaleState(normalized);
    try { localStorage.setItem(I18N_STORAGE_KEY, normalized); } catch {}
    console.log('[i18n] setLocale called:', { requested: loc, normalized });
  };

  const value: I18nContextValue = { locale, setLocale, t };
  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;
};

export function useI18n(): I18nContextValue {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error('useI18n must be used within I18nProvider');
  return ctx;
}

interface TProps { id: string; default?: string; values?: Record<string, string | number>; className?: string }
export const T: React.FC<TProps> = ({ id, default: fb, values, className }) => {
  const { t } = useI18n();
  return <span className={className}>{t(id, fb, values)}</span>;
};
